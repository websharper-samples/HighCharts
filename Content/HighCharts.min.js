try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var u,f,e;for(u in t)if(f=typeof n[u],e=typeof t[u],f=="object"&&e=="object")i(n[u],t[u]);else if(f=="undefined"||r)n[u]=t[u];else throw new Error("Name conflict: "+u);}var r=!!this.overwrite;i(n,t)},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===undefined&&delete n[r];return n},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},GetOptional:function(n){return n===undefined?{$:0}:{$:1,$0:n}},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var r=n.prototype,i;n.prototype=new t;for(i in r)n.prototype[i]=r[i]},Safe:function(n){return n===undefined?{}:n},SetOptional:function(n,t,i){i.$==0?delete n[t]:n[t]=i.$0},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");}}};Date.now||(Date.now=function(){return(new Date).getTime()});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;$.Define($$,{WebSharper:{AggregateException:$.Class({},{New:function(_0){return $.New(this,a.New1("One or more errors occurred.",_0));},New1:function(_1){return $.New(this,b.New1(_1));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,c.New1("Value does not fall within the expected range."));},New1:function(_3){return $.New(this,b.New1(_3));}}),Arrays:{average:function(_4){return d(e.sum(_4))/d(_4.length);},averageBy:function(_5,_6){return d(e.sumBy(_5,_6))/d(_6.length);},blit:function(_7,_8,_9,_,ba){var bb;e.checkRange(_7,_8,ba);e.checkRange(_9,_,ba);for(bb=0;bb<=ba-1;bb++){e.set(_9,_+bb,e.get(_7,_8+bb));}return;},checkBounds:function(bb,bc){return(bc<0?true:bc>=bb.length)?f.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(bd,be,bf){return(((be<0?true:bf<0)?true:be>=bd.length)?true:bf>=(bd.length?bd[0].length:0))?f.Raise(g.New()):null;},checkLength:function(bg,bh){return bg.length!==bh.length?f.FailWith("Arrays differ in length."):null;},checkRange:function(bi,bj,bk){return((bk<0?true:bj<0)?true:bi.length<bj+bk)?f.FailWith("Index was outside the bounds of the array."):null;},choose:function(bl,bm){var bn,bo,bp,bq,br;bn=[];for(bo=0;bo<=bm.length-1;bo++){bp=bl(e.get(bm,bo));if(bp.$==0){bq=null;}else{br=bp.$0;bq=bn.push(br);}}return bn;},collect:function(bs,bt){return h.prototype.concat.apply([],e.map(bs,bt));},concat:function(bu){return h.prototype.concat.apply([],e.ofSeq(bu));},create:function(bv,bw){var bx,by;bx=h(bv);for(by=0;by<=bv-1;by++){e.set(bx,by,bw);}return bx;},create2D:function(bz){var bA,bC,bD;bA=function(bB){return e.ofSeq(bB);};bC=i.map(bA,bz);bD=e.ofSeq(bC);bD.dims=2;return bD;},exists2:function(bE,bF,bG){e.checkLength(bF,bG);return i.exists2(bE,bF,bG);},fill:function(bH,bI,bJ,bK){var bL;e.checkRange(bH,bI,bJ);for(bL=bI;bL<=bI+bJ-1;bL++){e.set(bH,bL,bK);}return;},filter:function(bM,bN){var bO,bP;bO=[];for(bP=0;bP<=bN.length-1;bP++){bM(e.get(bN,bP))?bO.push(e.get(bN,bP)):null;}return bO;},find:function(bQ,bR){var bS,bT,bU;bS=e.tryFind(bQ,bR);if(bS.$==0){bT=f.FailWith("KeyNotFoundException");}else{bU=bS.$0;bT=bU;}return bT;},findINdex:function(bV,bW){var bX,bY,bZ;bX=e.tryFindIndex(bV,bW);if(bX.$==0){bY=f.FailWith("KeyNotFoundException");}else{bZ=bX.$0;bY=bZ;}return bY;},fold:function(b0,b1,b2){var b3,b4;b3=b1;for(b4=0;b4<=b2.length-1;b4++){b3=(b0(b3))(e.get(b2,b4));}return b3;},fold2:function(b5,b6,b7,b8){var b9,b_;e.checkLength(b7,b8);b9=b6;for(b_=0;b_<=b7.length-1;b_++){b9=((b5(b9))(e.get(b7,b_)))(e.get(b8,b_));}return b9;},foldBack:function(b$,ca,cb){var cc,cd,ce;cc=cb;cd=ca.length;for(ce=1;ce<=cd;ce++){cc=(b$(e.get(ca,cd-ce)))(cc);}return cc;},foldBack2:function(cf,cg,ch,ci){var cj,ck,cl;e.checkLength(cg,ch);cj=cg.length;ck=ci;for(cl=1;cl<=cj;cl++){ck=((cf(e.get(cg,cj-cl)))(e.get(ch,cj-cl)))(ck);}return ck;},forall2:function(cm,cn,co){e.checkLength(cn,co);return i.forall2(cm,cn,co);},get:function(cp,cq){e.checkBounds(cp,cq);return cp[cq];},get2D:function(cr,cs,ct){e.checkBounds2D(cr,cs,ct);return cr[cs][ct];},init:function(cu,cv){var cw,cx;cu<0?f.FailWith("Negative size given."):null;cw=h(cu);for(cx=0;cx<=cu-1;cx++){e.set(cw,cx,cv(cx));}return cw;},iter:function(cy,cz){var cA;for(cA=0;cA<=cz.length-1;cA++){cy(e.get(cz,cA));}return;},iter2:function(cB,cC,cD){var cE;e.checkLength(cC,cD);for(cE=0;cE<=cC.length-1;cE++){(cB(e.get(cC,cE)))(e.get(cD,cE));}return;},iteri:function(cF,cG){var cH;for(cH=0;cH<=cG.length-1;cH++){(cF(cH))(e.get(cG,cH));}return;},iteri2:function(cI,cJ,cK){var cL;e.checkLength(cJ,cK);for(cL=0;cL<=cJ.length-1;cL++){((cI(cL))(e.get(cJ,cL)))(e.get(cK,cL));}return;},length:function(cM){var cN;cN=cM.dims;return cN===2?cM.length*cM.length:cM.length;},map:function(cO,cP){var cQ,cR;cQ=h(cP.length);for(cR=0;cR<=cP.length-1;cR++){e.set(cQ,cR,cO(e.get(cP,cR)));}return cQ;},map2:function(cS,cT,cU){var cV,cW;e.checkLength(cT,cU);cV=h(cU.length);for(cW=0;cW<=cU.length-1;cW++){e.set(cV,cW,(cS(e.get(cT,cW)))(e.get(cU,cW)));}return cV;},mapi:function(cX,cY){var cZ,c0;cZ=h(cY.length);for(c0=0;c0<=cY.length-1;c0++){e.set(cZ,c0,(cX(c0))(e.get(cY,c0)));}return cZ;},mapi2:function(c1,c2,c3){var c4,c5;e.checkLength(c2,c3);c4=h(c2.length);for(c5=0;c5<=c2.length-1;c5++){e.set(c4,c5,((c1(c5))(e.get(c2,c5)))(e.get(c3,c5)));}return c4;},max:function(c6){return e.reduce(function(c7){return function(c8){return f.Max(c7,c8);};},c6);},maxBy:function(c9,c_){return e.reduce(function(c$){return function(da){return j.Compare(c9(c$),c9(da))===1?c$:da;};},c_);},min:function(db){return e.reduce(function(dc){return function(dd){return f.Min(dc,dd);};},db);},minBy:function(de,df){return e.reduce(function(dg){return function(dh){return j.Compare(de(dg),de(dh))===-1?dg:dh;};},df);},nonEmpty:function(di){return di.length===0?f.FailWith("The input array was empty."):null;},ofSeq:function(dj){var dk,dl,dm;dk=[];dl=k.Get(dj);try{while(dl.MoveNext()){dk.push(dl.get_Current());}dm=dk;}finally{dl.Dispose!=undefined?dl.Dispose():null;}return dm;},partition:function(dn,_do){var dp,dq,dr;dp=[];dq=[];for(dr=0;dr<=_do.length-1;dr++){dn(e.get(_do,dr))?dp.push(e.get(_do,dr)):dq.push(e.get(_do,dr));}return[dp,dq];},permute:function(ds,dt){var du,dv;du=h(dt.length);for(dv=0;dv<=dt.length-1;dv++){e.set(du,ds(dv),e.get(dt,dv));}return du;},pick:function(dw,dx){var dy,dz,dA;dy=e.tryPick(dw,dx);if(dy.$==0){dz=f.FailWith("KeyNotFoundException");}else{dA=dy.$0;dz=dA;}return dz;},reduce:function(dB,dC){var dD,dE;e.nonEmpty(dC);dD=e.get(dC,0);for(dE=1;dE<=dC.length-1;dE++){dD=(dB(dD))(e.get(dC,dE));}return dD;},reduceBack:function(dF,dG){var dH,dI,dJ;e.nonEmpty(dG);dH=dG.length;dI=e.get(dG,dH-1);for(dJ=2;dJ<=dH;dJ++){dI=(dF(e.get(dG,dH-dJ)))(dI);}return dI;},reverse:function(dK,dL,dM){var dN;dN=e.sub(dK,dL,dM).slice().reverse();return e.blit(dN,0,dK,dL,e.length(dN));},scan:function(dO,dP,dQ){var dR,dS;dR=h(1+dQ.length);e.set(dR,0,dP);for(dS=0;dS<=dQ.length-1;dS++){e.set(dR,dS+1,(dO(e.get(dR,dS)))(e.get(dQ,dS)));}return dR;},scanBack:function(dT,dU,dV){var dW,dX,dY;dW=dU.length;dX=h(1+dW);e.set(dX,dW,dV);for(dY=0;dY<=dW-1;dY++){e.set(dX,dW-dY-1,(dT(e.get(dU,dW-dY-1)))(e.get(dX,dW-dY)));}return dX;},set:function(dZ,d0,d1){e.checkBounds(dZ,d0);dZ[d0]=d1;return;},set2D:function(d2,d3,d4,d5){e.checkBounds2D(d2,d3,d4);d2[d3][d4]=d5;return;},setSub:function(d6,d7,d8,d9){var d_;for(d_=0;d_<=d8-1;d_++){e.set(d6,d7+d_,e.get(d9,d_));}return;},setSub2D:function(d$,ea,eb,ec,ed,ee){var ef,eg;for(ef=0;ef<=ec-1;ef++){for(eg=0;eg<=ed-1;eg++){e.set2D(d$,ea+ef,eb+eg,e.get2D(ee,ef,eg));}}return;},sort:function(eh){return e.sortBy(function(ei){return ei;},eh);},sortBy:function(ej,ek){return ek.slice().sort(function(el,em){return f.Compare(ej(el),ej(em));});},sortInPlace:function(en){return e.sortInPlaceBy(function(eo){return eo;},en);},sortInPlaceBy:function(ep,eq){return eq.sort(function(er,es){return f.Compare(ep(er),ep(es));});},sortInPlaceWith:function(et,eu){return eu.sort(function(ev,ew){return(et(ev))(ew);});},sortWith:function(ex,ey){return ey.slice().sort(function(ez,eA){return(ex(ez))(eA);});},sub:function(eB,eC,eD){e.checkRange(eB,eC,eD);return eB.slice(eC,eC+eD);},sub2D:function(eE,eF,eG,eH,eI){var eJ,eK,eL,eM,eN;eJ=eH<0?0:eH;eK=eI<0?0:eI;eL=e.zeroCreate2D(eJ,eK);for(eM=0;eM<=eJ-1;eM++){for(eN=0;eN<=eK-1;eN++){e.set2D(eL,eM,eN,e.get2D(eE,eF+eM,eG+eN));}}return eL;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(eO,eP){var eQ,eR;eQ={$:0};eR=0;while(eR<eP.length?eQ.$==0:false){eO(e.get(eP,eR))?eQ={$:1,$0:e.get(eP,eR)}:null;eR=eR+1;}return eQ;},tryFindIndex:function(eS,eT){var eU,eV;eU={$:0};eV=0;while(eV<eT.length?eU.$==0:false){eS(e.get(eT,eV))?eU={$:1,$0:eV}:null;eV=eV+1;}return eU;},tryPick:function(eW,eX){var eY,eZ,e0;eY={$:0};eZ=0;while(eZ<eX.length?eY.$==0:false){e0=eW(e.get(eX,eZ));e0.$==1?eY=e0:null;eZ=eZ+1;}return eY;},unzip:function(e1){var e2,e3,e4,e5,e6,e7;e2=[];e3=[];for(e4=0;e4<=e1.length-1;e4++){e5=e.get(e1,e4);e6=e5[1];e7=e5[0];e2.push(e7);e3.push(e6);}return[e2,e3];},unzip3:function(e8){var e9,e_,e$,fa,fb,fc,fd,fe;e9=[];e_=[];e$=[];for(fa=0;fa<=e8.length-1;fa++){fb=e.get(e8,fa);fc=fb[2];fd=fb[1];fe=fb[0];e9.push(fe);e_.push(fd);e$.push(fc);}return[e9,e_,e$];},zeroCreate2D:function(ff,fg){var fh;fh=e.init(ff,function(){return h(fg);});fh.dims=2;return fh;},zip:function(fj,fk){var fl,fm;e.checkLength(fj,fk);fl=h(fj.length);for(fm=0;fm<=fj.length-1;fm++){e.set(fl,fm,[e.get(fj,fm),e.get(fk,fm)]);}return fl;},zip3:function(fn,fo,fp){var fq,fr;e.checkLength(fn,fo);e.checkLength(fo,fp);fq=h(fn.length);for(fr=0;fr<=fn.length-1;fr++){e.set(fq,fr,[e.get(fn,fr),e.get(fo,fr),e.get(fp,fr)]);}return fq;}},Arrays2D:{copy:function(fs){return l.init(fs.length,fs.length?fs[0].length:0,function(ft){return function(fu){return e.get2D(fs,ft,fu);};});},init:function(fv,fw,fx){var fy,fz,fA;fy=e.zeroCreate2D(fv,fw);for(fz=0;fz<=fv-1;fz++){for(fA=0;fA<=fw-1;fA++){e.set2D(fy,fz,fA,(fx(fz))(fA));}}return fy;},iter:function(fB,fC){var fD,fE,fF,fG;fD=fC.length;fE=fC.length?fC[0].length:0;for(fF=0;fF<=fD-1;fF++){for(fG=0;fG<=fE-1;fG++){fB(e.get2D(fC,fF,fG));}}return;},iteri:function(fH,fI){var fJ,fK,fL,fM;fJ=fI.length;fK=fI.length?fI[0].length:0;for(fL=0;fL<=fJ-1;fL++){for(fM=0;fM<=fK-1;fM++){((fH(fL))(fM))(e.get2D(fI,fL,fM));}}return;},map:function(fN,fO){return l.init(fO.length,fO.length?fO[0].length:0,function(fP){return function(fQ){return fN(e.get2D(fO,fP,fQ));};});},mapi:function(fR,fS){return l.init(fS.length,fS.length?fS[0].length:0,function(fT){return function(fU){return((fR(fT))(fU))(e.get2D(fS,fT,fU));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return m.GetCT();},get_DefaultCancellationToken:function(){return(m.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var fV,fW,f0,f1;if(!this.c){this.c=true;fW=function(fX){var fY,fZ;try{fX(null);fY={$:0};}catch(fZ){fY={$:1,$0:fZ};}return fY;};f0=this.r;f1=e.choose(fW,f0);fV=e.length(f1)>0?f.Raise(a.New(f1)):null;}else{fV=null;}return fV;},Cancel1:function(f2){var f3,f4,f5,f7;if(!f2){f3=this.Cancel();}else{if(!this.c){this.c=true;f5=function(f6){return f6(null);};f7=this.r;f4=e.iter(f5,f7);}else{f4=null;}f3=f4;}return f3;},CancelAfter:function(f8){var f9,f_,ga,gc=this;if(!this.c){f_=this.pending;n.iter(function(f$){return o(f$);},f_);ga=p(function(){return gc.Cancel();},f8);f9=void(this.pending={$:1,$0:ga});}else{f9=null;}return f9;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(gd,ge){return q.CreateLinkedTokenSource1([gd,ge]);},CreateLinkedTokenSource1:function(gf){var gg,gh;gg=q.New();gh=function(gi){var gj;gj=m.Register(gi,function(){return function(){return gg.Cancel();}();});return;};return e.iter(gh,gf);},New:function(){var gm;gm=$.New(this,{});gm.c=false;gm.pending={$:0};gm.r=[];return gm;}}),Char:$.Class({},{GetNumericValue:function(gn){return(gn>=48?gn<=57:false)?d(gn)-d(48):-1;},IsControl:function(go){return(go>=0?go<=31:false)?true:go>=128?go<=159:false;},IsDigit:function(gp){return gp>=48?gp<=57:false;},IsLetter:function(gq){return(gq>=65?gq<=90:false)?true:gq>=97?gq<=122:false;},IsLetterOrDigit:function(gr){return r.IsLetter(gr)?true:r.IsDigit(gr);},IsLower:function(gs){return gs>=97?gs<=122:false;},IsUpper:function(gt){return gt>=65?gt<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(gu){return gu.length===1?gu.charCodeAt(0):f.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(gv){var gw;gw=function(gx){var gy,gz,gA,gB,gC,gD;gy=function(){return s.subscribeTo(gv,function(gF){var gG;t.Force(gz).Dispose();t.Force(gB).Dispose();gG=function(){return gx.k.call(null,{$:0,$0:gF});};return m.scheduler().Fork(gG);});};gz=t.Create(gy);gA=function(){return m.Register(gx.ct,function(){var gK;t.Force(gz).Dispose();gK=function(){return gx.k.call(null,{$:2,$0:u.New()});};return m.scheduler().Fork(gK);});};gB=t.Create(gA);gC=t.Force(gz);gD=t.Force(gB);return null;};return m.checkCancel(gw);},Bind:function(gM,gN){var gO;gO=function(gP){return gM({k:function(gQ){var gR,gS,gT,gX;if(gQ.$==0){gS=gQ.$0;gT=function(){var gV,gW;try{gV=(gN(gS))(gP);}catch(gW){gV=gP.k.call(null,{$:1,$0:gW});}return gV;};gR=m.scheduler().Fork(gT);}else{gX=function(){return gP.k.call(null,gQ);};gR=m.scheduler().Fork(gX);}return gR;},ct:gP.ct});};return m.checkCancel(gO);},Catch:function(gZ){var g0;g0=function(g1){var g2,g7;try{g2=gZ({k:function(g3){var g4,g5,g6;if(g3.$==0){g5=g3.$0;g4=g1.k.call(null,{$:0,$0:{$:0,$0:g5}});}else{if(g3.$==1){g6=g3.$0;g4=g1.k.call(null,{$:0,$0:{$:1,$0:g6}});}else{g4=g1.k.call(null,g3);}}return g4;},ct:g1.ct});}catch(g7){g2=g1.k.call(null,{$:0,$0:{$:1,$0:g7}});}return g2;};return m.checkCancel(g0);},Combine:function(g8,g9){return m.Bind(g8,function(){return g9;});},Delay:function(g$){var ha;ha=function(hb){var hc,hd;try{hc=(g$(null))(hb);}catch(hd){hc=hb.k.call(null,{$:1,$0:hd});}return hc;};return m.checkCancel(ha);},For:function(he,hf){return m.Using(k.Get(he),function(hg){return m.While(function(){return hg.MoveNext();},m.Delay(function(){return hf(hg.get_Current());}));});},FromContinuations:function(hj){var hk;hk=function(hl){var hm,hn;hm=[false];hn=function(ho){var hp;if(hm[0]){hp=f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{hm[0]=true;hp=m.scheduler().Fork(ho);}return hp;};return hj([function(hq){return hn(function(){return hl.k.call(null,{$:0,$0:hq});});},function(hs){return hn(function(){return hl.k.call(null,{$:1,$0:hs});});},function(hu){return hn(function(){return hl.k.call(null,{$:2,$0:hu});});}]);};return m.checkCancel(hk);},GetCT:$.Field(function(){var hw;hw=function(hx){return hx.k.call(null,{$:0,$0:hx.ct});};return m.checkCancel(hw);}),Ignore:function(hy){return m.Bind(hy,function(){return m.Return(null);});},OnCancel:function(hA){var hB;hB=function(hC){return hC.k.call(null,{$:0,$0:m.Register(hC.ct,hA)});};return m.checkCancel(hB);},Parallel:function(hD){var hE,hF,hG;hE=e.ofSeq(hD);if(e.length(hE)===0){hF=m.Return([]);}else{hG=function(hH){var hI,hJ,hK,hL;hI=hE.length;hJ=[hI];hK=e.create(hI,undefined);hL=function(hM){return function(hN){var hO,hP,hQ,hR,hS,hT,hU,hV,hW;hO=[hJ[0],hN];if(hO[0]===0){hP=null;}else{if(hO[0]===1){if(hO[1].$==0){hR=hO[1].$0;e.set(hK,hM,hR);hJ[0]=0;hQ=hH.k.call(null,{$:0,$0:hK});}else{hO[0];hS=hO[1];hJ[0]=0;hQ=hH.k.call(null,hS);}hP=hQ;}else{if(hO[1].$==0){hU=hO[1].$0;hV=hO[0];e.set(hK,hM,hU);hT=void(hJ[0]=hV-1);}else{hO[0];hW=hO[1];hJ[0]=0;hT=hH.k.call(null,hW);}hP=hT;}}return hP;};};return e.iteri(function(hX){return function(hY){var hZ;hZ=function(){return hY({k:hL(hX),ct:hH.ct});};return m.scheduler().Fork(hZ);};},hE);};hF=m.checkCancel(hG);}return hF;},Register:function(h1,h2){var h3;h3=h1.r.push(h2)-1;return{Dispose:function(){return e.set(h1.r,h3,function(){});}};},Return:function(h6){var h7;h7=function(h8){return h8.k.call(null,{$:0,$0:h6});};return m.checkCancel(h7);},Scheduler:$.Class({Fork:function(h9){var h_,h$,ib=this;this.robin.push(h9);if(this.idle){this.idle=false;h$=p(function(){return ib.tick();},0);h_=void h$;}else{h_=null;}return h_;},tick:function(){var ic,id,ie,_if,ig,ih,ij=this;ic=v.now();id=true;while(id){ie=this.robin.length;if(ie===0){this.idle=true;_if=id=false;}else{(this.robin.shift())(null);if(v.now()-ic>40){ih=p(function(){return ij.tick();},0);ig=id=false;}else{ig=null;}_if=ig;}}return;}},{New:function(){var ik;ik=$.New(this,{});ik.idle=true;ik.robin=[];return ik;}}),Sleep:function(il){var im;im=function(_in){var io,ip,iq,ir,is,it;io=function(){return p(function(){var iw;t.Force(ir).Dispose();iw=function(){return _in.k.call(null,{$:0,$0:null});};return m.scheduler().Fork(iw);},il);};ip=t.Create(io);iq=function(){return m.Register(_in.ct,function(){var iA;o(t.Force(ip));iA=function(){return _in.k.call(null,{$:2,$0:u.New()});};return m.scheduler().Fork(iA);});};ir=t.Create(iq);is=t.Force(ip);it=t.Force(ir);return null;};return m.checkCancel(im);},Start:function(iC,iD){return m.StartWithContinuations(iC,function(){},function(iF){var iG;iG=[iF];return w?w.log.apply(w,["WebSharper: Uncaught asynchronous exception"].concat(iG)):undefined;},function(){},iD);},StartChild:function(iI){var iJ;iJ=function(iK){var iL,iM,iN,iQ,iV;iL=[{$:0}];iM=[];iN=function(){return iI({k:function(iP){iL[0]={$:1,$0:iP};while(iM.length>0){(iM.shift())(iP);}return;},ct:iK.ct});};m.scheduler().Fork(iN);iQ=function(iR){var iS,iT,iU;iS=iL[0];if(iS.$==0){iT=iM.push(iR.k);}else{iU=iS.$0;iT=iR.k.call(null,iU);}return iT;};iV=m.checkCancel(iQ);return iK.k.call(null,{$:0,$0:iV});};return m.checkCancel(iJ);},StartWithContinuations:function(iW,iX,iY,iZ,i0){var i1,i2;i1=f.DefaultArg(i0,(m.defCTS())[0]);i2=function(){return iW({k:function(i4){var i5,i6,i7,i8;if(i4.$==1){i6=i4.$0;i5=iY(i6);}else{if(i4.$==2){i7=i4.$0;i5=iZ(i7);}else{i8=i4.$0;i5=iX(i8);}}return i5;},ct:i1});};return m.scheduler().Fork(i2);},TryCancelled:function(i9,i_){var i$;i$=function(ja){return i9({k:function(jb){var jc,jd;if(jb.$==2){jd=jb.$0;i_(jd);jc=ja.k.call(null,jb);}else{jc=ja.k.call(null,jb);}return jc;},ct:ja.ct});};return m.checkCancel(i$);},TryFinally:function(je,jf){var jg;jg=function(jh){return je({k:function(ji){var jj,jk;try{jf(null);jj=jh.k.call(null,ji);}catch(jk){jj=jh.k.call(null,{$:1,$0:jk});}return jj;},ct:jh.ct});};return m.checkCancel(jg);},TryWith:function(jl,jm){var jn;jn=function(jo){return jl({k:function(jp){var jq,jr,js,jt,ju;if(jp.$==0){jr=jp.$0;jq=jo.k.call(null,{$:0,$0:jr});}else{if(jp.$==1){js=jp.$0;try{jt=(jm(js))(jo);}catch(ju){jt=jo.k.call(null,jp);}jq=jt;}else{jq=jo.k.call(null,jp);}}return jq;},ct:jo.ct});};return m.checkCancel(jn);},Using:function(jv,jw){return m.TryFinally(jw(jv),function(){return jv.Dispose();});},While:function(jy,jz){return jy(null)?m.Bind(jz,function(){return m.While(jy,jz);}):m.Return(null);},checkCancel:function(jB){return function(jC){return jC.ct.c?jC.k.call(null,{$:2,$0:u.New()}):jB(jC);};},defCTS:$.Field(function(){return[q.New()];}),scheduler:$.Field(function(){return x.New();})},Control:{createEvent:function(jD,jE,jF){return{AddHandler:jD,RemoveHandler:jE,Subscribe:function(jG){var jH;jH=jF(function(){return function(jJ){return jG.OnNext.call(null,jJ);};});jD(jH);return{Dispose:function(){return jE(jH);}};}};}},DateTimeHelpers:{AddMonths:function(jL,jM){var jN;jN=new v(jL);return(new v(jN.getFullYear(),jN.getMonth()+jM,jN.getDate(),jN.getHours(),jN.getMinutes(),jN.getSeconds(),jN.getMilliseconds())).getTime();},AddYears:function(jO,jP){var jQ;jQ=new v(jO);return(new v(jQ.getFullYear()+jP,jQ.getMonth(),jQ.getDate(),jQ.getHours(),jQ.getMinutes(),jQ.getSeconds(),jQ.getMilliseconds())).getTime();},DatePortion:function(jR){var jS;jS=new v(jR);return(new v(jS.getFullYear(),jS.getMonth(),jS.getDate())).getTime();},TimePortion:function(jT){var jU;jU=new v(jT);return(((24*0+jU.getHours())*60+jU.getMinutes())*60+jU.getSeconds())*1000+jU.getMilliseconds();}},Enumerable:{Of:function(jV){return{GetEnumerator:jV};}},Enumerator:{Get:function(jW){return jW instanceof $$.Array?y.New(0,null,function(jX){var jY,jZ;jY=jX.s;if(jY<e.length(jW)){jX.c=e.get(jW,jY);jX.s=jY+1;jZ=true;}else{jZ=false;}return jZ;},function(){}):j.Equals(typeof jW,"string")?y.New(0,null,function(j1){var j2,j3;j2=j1.s;if(j2<jW.length){j1.c=jW.charCodeAt(j2);j1.s=j2+1;j3=true;}else{j3=false;}return j3;},function(){}):jW.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(j5,j6,j7,j8){var j9;j9=$.New(this,{});j9.s=j5;j9.c=j6;j9.n=j7;j9.d=j8;return j9;}})},Exception:$.Class({},{New:function(){return $.New(this,b.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),Html:{Client:{Activator:{Activate:$.Field(function(){var j_,j$;if(B.hasDocument()){j$=C.getElementById("websharper-data");j_=j$?D(C).ready(function(){var kb,kc,kd,kj;kb=j$.getAttribute("content");kc=E.Activate(F.parse(kb));kd=function(ke){var kf,kg,kh,ki;kf=ke[0];kg=ke[1];kh=kg.get_Body();ki=C.getElementById(kf);return kh.ReplaceInDom(ki);};kj=H.GetFields(kc);return e.iter(kd,kj);}):null;}else{j_=null;}return j_;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(kk){return J.New(kk);},SingleNode:$.Class({ReplaceInDom:function(kl){var km;km=this.node.parentNode.replaceChild(this.node,kl);return;}},{New:function(kn){var ko;ko=$.New(this,{});ko.node=kn;return ko;}})}}},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,g.New1("Index was outside the bounds of the array."));},New1:function(kp){return $.New(this,b.New1(kp));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,K.New1("Operation is not valid due to the current state of the object."));},New1:function(kq){return $.New(this,b.New1(kq));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(kr){var ks,kt,ku,kv,kw,kx;ks={};kt=k.Get(kr);try{while(kt.MoveNext()){kv=kt.get_Current();kw=kv[1];kx=kv[0];ks[kx]=kw;}}finally{kt.Dispose!=undefined?kt.Dispose():null;}return ks;}}},Json:{Activate:function(ky){var kz,kA,kB;kz=ky.$TYPES;for(kA=0;kA<=e.length(kz)-1;kA++){e.set(kz,kA,E.lookup(e.get(kz,kA)));}kB=function(kC){var kD,kE,kF,kG,kH,kI,kJ,kK;if(j.Equals(kC,null)){kD=kC;}else{kE=typeof kC;if(kE==="object"){if(kC instanceof $$.Array){kG=E.shallowMap(kB,kC);}else{kH=E.shallowMap(kB,kC.$V);kI=kC.$T;if(j.Equals(typeof kI,"undefined")){kJ=kH;}else{kK=new(e.get(kz,kI))();H.ForEach(kH,function(kL){kK[kL]=kH[kL];return false;});kJ=kK;}kG=kJ;}kF=kG;}else{kF=kC;}kD=kF;}return kD;};return kB(ky.$DATA);},lookup:function(kM){var kN,kO,kP,kQ,kR,kS;kN=e.length(kM);kO=$$;kP=0;while(kP<kN){kQ=e.get(kM,kP);kR=kO[kQ];if(!j.Equals(typeof kR,undefined)){kO=kR;kS=kP=kP+1;}else{kS=f.FailWith("Invalid server reply. Failed to find type: "+kQ);}}return kO;},shallowMap:function(kT,kU){var kV,kW,kX,kY;if(kU instanceof $$.Array){kV=e.map(kT,kU);}else{kW=typeof kU;if(kW==="object"){kY={};H.ForEach(kU,function(kZ){kY[kZ]=kT(kU[kZ]);return false;});kX=kY;}else{kX=kU;}kV=kX;}return kV;}},Lazy:{Create:function(k0){var k1,k2;k1={value:undefined,created:false,eval:k0};k2=function(){var k4;if(k1.created){k4=k1.value;}else{k1.created=true;k1.value=k0(null);k4=k1.value;}return k4;};k1.eval=k2;return k1;},CreateFromValue:function(k5){return{value:k5,created:true,eval:function(){return k5;},eval:function(){return k5;}};},Force:function(k8){return k8.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return y.New(this,null,function(k9){var k_,k$,la,lb;k_=k9.s;if(k_.$==0){k$=false;}else{la=k_.$1;lb=k_.$0;k9.c=lb;k9.s=la;k$=true;}return k$;},function(){});},get_Item:function(ld){return i.nth(ld,this);},get_Length:function(){return i.length(this);}},{Construct:function(le,lf){return $.New(M,{$:1,$0:le,$1:lf});},get_Nil:function(){return $.New(M,{$:0});}}),append:function(lg,lh){return L.ofSeq(i.append(lg,lh));},choose:function(li,lj){return L.ofSeq(i.choose(li,lj));},collect:function(lk,ll){return L.ofSeq(i.collect(lk,ll));},concat:function(lm){return L.ofSeq(i.concat(lm));},exists2:function(ln,lo,lp){return e.exists2(ln,e.ofSeq(lo),e.ofSeq(lp));},filter:function(lq,lr){return L.ofSeq(i.filter(lq,lr));},fold2:function(ls,lt,lu,lv){return e.fold2(ls,lt,e.ofSeq(lu),e.ofSeq(lv));},foldBack:function(lw,lx,ly){return e.foldBack(lw,e.ofSeq(lx),ly);},foldBack2:function(lz,lA,lB,lC){return e.foldBack2(lz,e.ofSeq(lA),e.ofSeq(lB),lC);},forall2:function(lD,lE,lF){return e.forall2(lD,e.ofSeq(lE),e.ofSeq(lF));},head:function(lG){var lH,lI;if(lG.$==1){lI=lG.$0;lH=lI;}else{lH=f.FailWith("The input list was empty.");}return lH;},init:function(lJ,lK){return L.ofArray(e.init(lJ,lK));},iter2:function(lL,lM,lN){return e.iter2(lL,e.ofSeq(lM),e.ofSeq(lN));},iteri2:function(lO,lP,lQ){return e.iteri2(lO,e.ofSeq(lP),e.ofSeq(lQ));},map:function(lR,lS){return L.ofSeq(i.map(lR,lS));},map2:function(lT,lU,lV){return L.ofArray(e.map2(lT,e.ofSeq(lU),e.ofSeq(lV)));},map3:function(lW,lX,lY,lZ){var l0;l0=e.map2(function(l1){return function(l2){return l1(l2);};},e.map2(lW,e.ofSeq(lX),e.ofSeq(lY)),e.ofSeq(lZ));return L.ofArray(l0);},mapi:function(l3,l4){return L.ofSeq(i.mapi(l3,l4));},mapi2:function(l5,l6,l7){return L.ofArray(e.mapi2(l5,e.ofSeq(l6),e.ofSeq(l7)));},max:function(l8){return i.reduce(function(l9){return function(l_){return f.Max(l9,l_);};},l8);},maxBy:function(l$,ma){return i.reduce(function(mb){return function(mc){return j.Compare(l$(mb),l$(mc))===1?mb:mc;};},ma);},min:function(md){return i.reduce(function(me){return function(mf){return f.Min(me,mf);};},md);},minBy:function(mg,mh){return i.reduce(function(mi){return function(mj){return j.Compare(mg(mi),mg(mj))===-1?mi:mj;};},mh);},ofArray:function(mk){var ml,mm;ml=$.New(M,{$:0});for(mm=0;mm<=e.length(mk)-1;mm++){ml=$.New(M,{$:1,$0:e.get(mk,e.length(mk)-mm-1),$1:ml});}return ml;},ofSeq:function(mn){var mo,mp,mq,mr;mo=[];mp=k.Get(mn);try{while(mp.MoveNext()){mo.unshift(mp.get_Current());}mr=mo.slice(0);mr.reverse();mq=L.ofArray(mr);}finally{mp.Dispose!=undefined?mp.Dispose():null;}return mq;},partition:function(ms,mt){var mu,mv,mw;mu=e.partition(ms,e.ofSeq(mt));mv=mu[1];mw=mu[0];return[L.ofArray(mw),L.ofArray(mv)];},permute:function(mx,my){return L.ofArray(e.permute(mx,e.ofSeq(my)));},reduceBack:function(mz,mA){return e.reduceBack(mz,e.ofSeq(mA));},replicate:function(mB,mC){return L.ofArray(e.create(mB,mC));},rev:function(mD){var mE;mE=e.ofSeq(mD);mE.reverse();return L.ofArray(mE);},scan:function(mF,mG,mH){return L.ofSeq(i.scan(mF,mG,mH));},scanBack:function(mI,mJ,mK){return L.ofArray(e.scanBack(mI,e.ofSeq(mJ),mK));},sort:function(mL){var mM;mM=e.ofSeq(mL);e.sortInPlace(mM);return L.ofArray(mM);},sortBy:function(mN,mO){return L.sortWith(function(mP){return function(mQ){return f.Compare(mN(mP),mN(mQ));};},mO);},sortWith:function(mR,mS){var mT;mT=e.ofSeq(mS);e.sortInPlaceWith(mR,mT);return L.ofArray(mT);},tail:function(mU){var mV,mW;if(mU.$==1){mW=mU.$1;mV=mW;}else{mV=f.FailWith("The input list was empty.");}return mV;},unzip:function(mX){var mY,mZ,m0,m1,m2,m3,m4;mY=[];mZ=[];m0=k.Get(mX);try{while(m0.MoveNext()){m2=m0.get_Current();m3=m2[1];m4=m2[0];mY.push(m4);mZ.push(m3);}}finally{m0.Dispose!=undefined?m0.Dispose():null;}return[L.ofArray(mY.slice(0)),L.ofArray(mZ.slice(0))];},unzip3:function(m5){var m6,m7,m8,m9,m_,m$,na,nb,nc;m6=[];m7=[];m8=[];m9=k.Get(m5);try{while(m9.MoveNext()){m$=m9.get_Current();na=m$[2];nb=m$[1];nc=m$[0];m6.push(nc);m7.push(nb);m8.push(na);}}finally{m9.Dispose!=undefined?m9.Dispose():null;}return[L.ofArray(m6.slice(0)),L.ofArray(m7.slice(0)),L.ofArray(m8.slice(0))];},zip:function(nd,ne){return L.ofArray(e.zip(e.ofSeq(nd),e.ofSeq(ne)));},zip3:function(nf,ng,nh){return L.ofArray(e.zip3(e.ofSeq(nf),e.ofSeq(ng),e.ofSeq(nh)));}},MatchFailureException:$.Class({},{New:function(ni,nj,nk){return $.New(this,b.New1(ni+" at "+$$.String(nj)+":"+$$.String(nk)));}}),OperationCanceledException:$.Class({},{New:function(){return $.New(this,u.New1("The operation was canceled."));},New1:function(nl){return $.New(this,b.New1(nl));}}),Operators:{Compare:function(nm,nn){return j.Compare(nm,nn);},DefaultArg:function(no,np){var nq,nr;if(no.$==0){nq=np;}else{nr=no.$0;nq=nr;}return nq;},FailWith:function(ns){return f.Raise(b.New1(ns));},KeyValue:function(nt){return[nt.K,nt.V];},Max:function(nu,nv){return j.Compare(nu,nv)===1?nu:nv;},Min:function(nw,nx){return j.Compare(nw,nx)===-1?nw:nx;},Pown:function(ny,nz){var nA;nA=function(nB){var nC,nD,nE;if(nB===1){nC=ny;}else{if(nB%2===0){nE=nA(nB/2>>0);nD=nE*nE;}else{nD=ny*nA(nB-1);}nC=nD;}return nC;};return nA(nz);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(nF){return nF===0?0:nF<0?-1:1;},Truncate:function(nG){return nG<0?O.ceil(nG):O.floor(nG);},Using:function(nH,nI){var nJ;try{nJ=nI(nH);}finally{nH.Dispose();}return nJ;},range:function(nK,nL){return i.init(1+nL-nK,function(nM){return nM+nK;});},step:function(nN,nO,nP){var nQ,nR,nT,nV;nQ=f.Sign(nO);nR=function(nS){return nQ*(nP-nS)>=0;};nT=i.initInfinite(function(nU){return nN+nU*nO;});nV=i.takeWhile(nR,nT);return nV;}},Option:{bind:function(nW,nX){var nY,nZ;if(nX.$==0){nY={$:0};}else{nZ=nX.$0;nY=nW(nZ);}return nY;},exists:function(n0,n1){var n2,n3;if(n1.$==0){n2=false;}else{n3=n1.$0;n2=n0(n3);}return n2;},fold:function(n4,n5,n6){var n7,n8;if(n6.$==0){n7=n5;}else{n8=n6.$0;n7=(n4(n5))(n8);}return n7;},foldBack:function(n9,n_,n$){var oa,ob;if(n_.$==0){oa=n$;}else{ob=n_.$0;oa=(n9(ob))(n$);}return oa;},forall:function(oc,od){var oe,of;if(od.$==0){oe=true;}else{of=od.$0;oe=oc(of);}return oe;},iter:function(og,oh){var oi,oj;if(oh.$==0){oi=null;}else{oj=oh.$0;oi=og(oj);}return oi;},map:function(ok,ol){var om,on;if(ol.$==0){om={$:0};}else{on=ol.$0;om={$:1,$0:ok(on)};}return om;},toArray:function(oo){var op,oq;if(oo.$==0){op=[];}else{oq=oo.$0;op=[oq];}return op;},toList:function(or){var os,ot;if(or.$==0){os=$.New(M,{$:0});}else{ot=or.$0;os=L.ofArray([ot]);}return os;}},PrintfHelpers:{padNumLeft:function(ou,ov){var ow;ow=e.get(ou,0);return((ow===" "?true:ow==="+")?true:ow==="-")?ow+P.PadLeftWith(ou.substr(1),ov-1,48):P.PadLeftWith(ou,ov,48);},plusForPos:function(ox,oy){return 0<=ox?"+"+oy:oy;},prettyPrint:function(oz){var oA,oK,oL,oM,oN,oO,oQ;oA=function(oB){var oC,oD,oE,oI,oJ;oC=$$.String(oB);if(oC==="[object Object]"){oE=function(oF){var oG,oH;oG=oF[0];oH=oF[1];return oG+" = "+Q.prettyPrint(oH);};oI=H.GetFields(oB);oJ=e.map(oE,oI);oD="{"+P.concat("; ",oJ)+"}";}else{oD=oC;}return oD;};oK=typeof oz;if(oK=="string"){oL="\""+oz+"\"";}else{if(oK=="object"){if(oz instanceof $$.Array){oO=function(oP){return Q.prettyPrint(oP);};oQ=e.map(oO,oz);oN="[|"+P.concat("; ",oQ)+"|]";}else{oN=oA(oz);}oM=oN;}else{oM=$$.String(oz);}oL=oM;}return oL;},printArray:function(oR,oS){var oT;oT=e.map(oR,oS);return"[|"+P.concat("; ",oT)+"|]";},printArray2D:function(oU,oV){var oW;oW=i.delay(function(){var oY;oY=oV.length?oV[0].length:0;return i.map(function(oZ){var o0;o0=i.delay(function(){return i.map(function(o2){return oU(e.get2D(oV,oZ,o2));},f.range(0,oY-1));});return P.concat("; ",o0);},f.range(0,oV.length-1));});return"[["+P.concat("][",oW)+"]]";},printList:function(o3,o4){var o5;o5=i.map(o3,o4);return"["+P.concat("; ",o5)+"]";},spaceForPos:function(o6,o7){return 0<=o6?" "+o7:o7;},toSafe:function(o8){return o8==null?"":o8;}},Queue:{Clear:function(o9){return o9.splice(0,e.length(o9));},Contains:function(o_,o$){return i.exists(function(pa){return j.Equals(o$,pa);},o_);},CopyTo:function(pb,pc,pd){return e.blit(pb,0,pc,pd,e.length(pb));}},Random:$.Class({Next:function(){return O.floor(O.random()*2147483648);},Next1:function(pe){return pe<0?f.FailWith("'maxValue' must be greater than zero."):O.floor(O.random()*pe);},Next2:function(pf,pg){var ph,pi;if(pf>pg){ph=f.FailWith("'minValue' cannot be greater than maxValue.");}else{pi=pg-pf;ph=pf+O.floor(O.random()*pi);}return ph;},NextBytes:function(pj){var pk;for(pk=0;pk<=e.length(pj)-1;pk++){e.set(pj,pk,O.floor(O.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return S.New();}),AjaxRemotingProvider:$.Class({},{Async:function(pl,pm){var pn,po;pn=R.makeHeaders(pl);po=R.makePayload(pm);return m.Delay(function(){var pq;pq=T.get_CancellationToken();return m.Bind(pq,function(pr){return m.FromContinuations(function(ps){var pt,pu,pv,pw,px,pB,pE,pH;pt=ps[0];pu=ps[1];pv=ps[2];pw=[true];px=m.Register(pr,function(){return function(){var pA;if(pw[0]){pw[0]=false;pA=pv(u.New());}else{pA=null;}return pA;}();});pB=function(pC){var pD;if(pw[0]){pw[0]=false;px.Dispose();pD=pt(E.Activate(F.parse(pC)));}else{pD=null;}return pD;};pE=function(pF){var pG;if(pw[0]){pw[0]=false;px.Dispose();pG=pu(pF);}else{pG=null;}return pG;};pH=R.EndPoint();return R.AjaxProvider().Async(pH,pn,po,pB,pE);});});});},Send:function(pI,pJ){return m.Start(m.Ignore(U.Async(pI,pJ)),{$:0});},Sync:function(pK,pL){var pM,pN,pO,pP;pM=R.EndPoint();pN=R.makeHeaders(pK);pO=R.makePayload(pL);pP=R.AjaxProvider().Sync(pM,pN,pO);return E.Activate(F.parse(pP));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var pQ,pR,pS,pT;try{if(!P.StartsWith(V.location.href,"https://")){pS=P.Replace(V.location.href,"http://","https://");R.EndPoint=function(){return pS;};pR=true;}else{pR=false;}pQ=pR;}catch(pT){pQ=false;}return pQ;},XhrProvider:$.Class({Async:function(pU,pV,pW,pX,pY){return R.ajax(true,pU,pV,pW,pX,pY);},Sync:function(pZ,p0,p1){var p2;p2=[undefined];R.ajax(false,pZ,p0,p1,function(p3){p2[0]=p3;},function(p4){return f.Raise(p4);});return p2[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(p5){var p6;p6={};p6["content-type"]="application/json";p6["x-websharper-rpc"]=p5;return p6;},makePayload:function(p7){return F.stringify(p7);}},Seq:{append:function(p8,p9){return W.Of(function(){var p$,qa;p$=k.Get(p8);qa=[true];return y.New(p$,null,function(qb){var qc,qd,qe,qf;if(qb.s.MoveNext()){qb.c=qb.s.get_Current();qc=true;}else{qd=qb.s;!j.Equals(qd,null)?qd.Dispose():null;qb.s=null;if(qa[0]){qa[0]=false;qb.s=k.Get(p9);if(qb.s.MoveNext()){qb.c=qb.s.get_Current();qf=true;}else{qb.s.Dispose();qb.s=null;qf=false;}qe=qf;}else{qe=false;}qc=qe;}return qc;},function(qg){var qh;qh=qg.s;return!j.Equals(qh,null)?qh.Dispose():null;});});},average:function(qi){var qj,qo,qp;qj=i.fold(function(qk){var ql,qm;ql=qk[0];qm=qk[1];return function(qn){return[ql+1,qm+qn];};},[0,0],qi);qo=qj[1];qp=qj[0];return qo/qp;},averageBy:function(qq,qr){var qs,qx,qy;qs=i.fold(function(qt){var qu,qv;qu=qt[0];qv=qt[1];return function(qw){return[qu+1,qv+qq(qw)];};},[0,0],qr);qx=qs[1];qy=qs[0];return qx/qy;},cache:function(qz){var qA,qB,qC;qA=[];qB=[k.Get(qz)];qC=function(){var qE;qE=function(qF){var qG,qH,qI,qJ;if(qF.s+1<qA.length){qF.s=qF.s+1;qF.c=qA[qF.s];qG=true;}else{qH=qB[0];if(j.Equals(qH,null)){qI=false;}else{if(qH.MoveNext()){qF.s=qF.s+1;qF.c=qH.get_Current();qA.push(qF.get_Current());qJ=true;}else{qH.Dispose();qB[0]=null;qJ=false;}qI=qJ;}qG=qI;}return qG;};return y.New(0,null,qE,function(){});};return W.Of(qC);},choose:function(qL,qM){var qN;qN=function(qO){var qP,qQ,qR;qP=qL(qO);if(qP.$==0){qQ=$.New(M,{$:0});}else{qR=qP.$0;qQ=L.ofArray([qR]);}return qQ;};return i.collect(qN,qM);},collect:function(qS,qT){return i.concat(i.map(qS,qT));},compareWith:function(qU,qV,qW){var qX,qY,qZ,q0,q1,q2,q3;qX=k.Get(qV);try{qZ=k.Get(qW);try{q1=0;q2=true;while(q2?q1===0:false){q3=[qX.MoveNext(),qZ.MoveNext()];q3[0]?q3[1]?q1=(qU(qX.get_Current()))(qZ.get_Current()):q1=1:q3[1]?q1=-1:q2=false;}q0=q1;}finally{qZ.Dispose!=undefined?qZ.Dispose():null;}qY=q0;}finally{qX.Dispose!=undefined?qX.Dispose():null;}return qY;},concat:function(q4){return W.Of(function(){var q6,q7;q6=k.Get(q4);q7=function(q8){var q9,q_,q$,ra;q9=q8.s;if(j.Equals(q9,null)){if(q6.MoveNext()){q8.s=k.Get(q6.get_Current());q$=q7(q8);}else{q6.Dispose();q$=false;}q_=q$;}else{if(q9.MoveNext()){q8.c=q9.get_Current();ra=true;}else{q8.Dispose();q8.s=null;ra=q7(q8);}q_=ra;}return q_;};return y.New(null,null,q7,function(rb){var rc;rc=rb.s;!j.Equals(rc,null)?rc.Dispose():null;return!j.Equals(q6,null)?q6.Dispose():null;});});},countBy:function(rd,re){var rf;rf=function(){var rh,ri,rj,rk,rl,rm,rn,ro,rq,rr;rh={};ri=k.Get(re);try{rk=[];while(ri.MoveNext()){rl=rd(ri.get_Current());rm=j.Hash(rl);if(rh.hasOwnProperty(rm)){rn=void(rh[rm]=rh[rm]+1);}else{rk.push(rl);rn=void(rh[rm]=1);}}ro=function(rp){return[rp,rh[j.Hash(rp)]];};rq=rk.slice(0);rr=e.map(ro,rq);rj=rr;}finally{ri.Dispose!=undefined?ri.Dispose():null;}return rj;};return i.delay(rf);},delay:function(rs){return W.Of(function(){return k.Get(rs(null));});},distinct:function(ru){return i.distinctBy(function(rv){return rv;},ru);},distinctBy:function(rw,rx){var ry;ry=function(){var rA,rB,rC,rE;rA=k.Get(rx);rB={};rC=function(){return rA.Dispose();};rE=function(rF){var rG,rH,rI,rK,rM,rN;if(rA.MoveNext()){rH=rA.get_Current();rI=function(rJ){return j.Hash(rw(rJ));};rK=function(rL){return rB.hasOwnProperty(rI(rL));};rM=rK(rH);while(rM?rA.MoveNext():false){rH=rA.get_Current();rM=rK(rH);}if(rM){rN=false;}else{rB[rI(rH)]=null;rF.c=rH;rN=true;}rG=rN;}else{rG=false;}return rG;};return y.New(null,null,rE,rC);};return W.Of(ry);},empty:function(){return[];},enumFinally:function(rO,rP){var rQ;rQ=function(){var rS,rT,rU,rV,rX;try{rT=k.Get(rO);}catch(rU){rP(null);rT=f.Raise(rU);}rS=rT;rV=function(){rS.Dispose();return rP(null);};rX=function(rY){var rZ;if(rS.MoveNext()){rY.c=rS.get_Current();rZ=true;}else{rZ=false;}return rZ;};return y.New(null,null,rX,rV);};return W.Of(rQ);},enumUsing:function(r0,r1){var r2;r2=function(){var r4,r5,r6,r7,r9;try{r5=k.Get(r1(r0));}catch(r6){r0.Dispose();r5=f.Raise(r6);}r4=r5;r7=function(){r4.Dispose();return r0.Dispose();};r9=function(r_){var r$;if(r4.MoveNext()){r_.c=r4.get_Current();r$=true;}else{r$=false;}return r$;};return y.New(null,null,r9,r7);};return W.Of(r2);},enumWhile:function(sa,sb){return W.Of(function(){var sd;sd=function(se){var sf,sg,sh,si;sf=se.s;if(j.Equals(sf,null)){if(sa(null)){se.s=k.Get(sb);sh=sd(se);}else{sh=false;}sg=sh;}else{if(sf.MoveNext()){se.c=sf.get_Current();si=true;}else{sf.Dispose();se.s=null;si=sd(se);}sg=si;}return sg;};return y.New(null,null,sd,function(sj){var sk;sk=sj.s;return!j.Equals(sk,null)?sk.Dispose():null;});});},exists:function(sl,sm){var sn,so,sp;sn=k.Get(sm);try{sp=false;while(!sp?sn.MoveNext():false){sp=sl(sn.get_Current());}so=sp;}finally{sn.Dispose!=undefined?sn.Dispose():null;}return so;},exists2:function(sq,sr,ss){var st,su,sv,sw,sx;st=k.Get(sr);try{sv=k.Get(ss);try{sx=false;while((!sx?st.MoveNext():false)?sv.MoveNext():false){sx=(sq(st.get_Current()))(sv.get_Current());}sw=sx;}finally{sv.Dispose!=undefined?sv.Dispose():null;}su=sw;}finally{st.Dispose!=undefined?st.Dispose():null;}return su;},filter:function(sy,sz){var sA;sA=function(){var sC,sD,sF;sC=k.Get(sz);sD=function(){return sC.Dispose();};sF=function(sG){var sH,sI,sJ,sK;sH=sC.MoveNext();sI=sC.get_Current();sJ=false;while(sH){if(sy(sI)){sG.c=sI;sJ=true;sK=sH=false;}else{sK=sC.MoveNext()?sI=sC.get_Current():sH=false;}}return sJ;};return y.New(null,null,sF,sD);};return W.Of(sA);},find:function(sL,sM){var sN,sO,sP;sN=i.tryFind(sL,sM);if(sN.$==0){sO=f.FailWith("KeyNotFoundException");}else{sP=sN.$0;sO=sP;}return sO;},findIndex:function(sQ,sR){var sS,sT,sU;sS=i.tryFindIndex(sQ,sR);if(sS.$==0){sT=f.FailWith("KeyNotFoundException");}else{sU=sS.$0;sT=sU;}return sT;},fold:function(sV,sW,sX){var sY,sZ,s0;sY=sW;sZ=k.Get(sX);try{while(sZ.MoveNext()){sY=(sV(sY))(sZ.get_Current());}s0=sY;}finally{sZ.Dispose!=undefined?sZ.Dispose():null;}return s0;},forall:function(s1,s2){return!i.exists(function(s3){return!s1(s3);},s2);},forall2:function(s4,s5,s6){return!i.exists2(function(s7){return function(s8){return!(s4(s7))(s8);};},s5,s6);},groupBy:function(s9,s_){return i.delay(function(){var ta,tb,tc,td,te,tf,tg,th;ta={};tb={};tc=[];td=k.Get(s_);try{while(td.MoveNext()){tf=td.get_Current();tg=s9(tf);th=j.Hash(tg);!ta.hasOwnProperty(th)?tc.push(tg):null;tb[th]=tg;ta.hasOwnProperty(th)?ta[th].push(tf):void(ta[th]=[tf]);}te=e.map(function(ti){return[ti,ta[j.Hash(ti)]];},tc);}finally{td.Dispose!=undefined?td.Dispose():null;}return te;});},head:function(tj){var tk,tl;tk=k.Get(tj);try{tl=tk.MoveNext()?tk.get_Current():i.insufficient();}finally{tk.Dispose!=undefined?tk.Dispose():null;}return tl;},init:function(tm,tn){return i.take(tm,i.initInfinite(tn));},initInfinite:function(to){var tp;tp=function(){var tr;tr=function(ts){ts.c=to(ts.s);ts.s=ts.s+1;return true;};return y.New(0,null,tr,function(){});};return W.Of(tp);},insufficient:function(){return f.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(tu){var tv,tw;tv=k.Get(tu);try{tw=!tv.MoveNext();}finally{tv.Dispose!=undefined?tv.Dispose():null;}return tw;},iter:function(tx,ty){return i.iteri(function(){return function(tA){return tx(tA);};},ty);},iter2:function(tB,tC,tD){var tE,tF,tG,tH;tE=k.Get(tC);try{tG=k.Get(tD);try{while(tE.MoveNext()?tG.MoveNext():false){(tB(tE.get_Current()))(tG.get_Current());}}finally{tG.Dispose!=undefined?tG.Dispose():null;}tF=tH;}finally{tE.Dispose!=undefined?tE.Dispose():null;}return tF;},iteri:function(tI,tJ){var tK,tL,tM;tK=0;tL=k.Get(tJ);try{while(tL.MoveNext()){(tI(tK))(tL.get_Current());tK=tK+1;}}finally{tL.Dispose!=undefined?tL.Dispose():null;}return tM;},length:function(tN){var tO,tP,tQ;tO=0;tP=k.Get(tN);try{while(tP.MoveNext()){tO=tO+1;}tQ=tO;}finally{tP.Dispose!=undefined?tP.Dispose():null;}return tQ;},map:function(tR,tS){var tT;tT=function(){var tV,tW,tY;tV=k.Get(tS);tW=function(){return tV.Dispose();};tY=function(tZ){var t0;if(tV.MoveNext()){tZ.c=tR(tV.get_Current());t0=true;}else{t0=false;}return t0;};return y.New(null,null,tY,tW);};return W.Of(tT);},mapi:function(t1,t2){return i.mapi2(t1,i.initInfinite(function(t3){return t3;}),t2);},mapi2:function(t4,t5,t6){var t7;t7=function(){var t9,t_,t$,ub;t9=k.Get(t5);t_=k.Get(t6);t$=function(){t9.Dispose();return t_.Dispose();};ub=function(uc){var ud;if(t9.MoveNext()?t_.MoveNext():false){uc.c=(t4(t9.get_Current()))(t_.get_Current());ud=true;}else{ud=false;}return ud;};return y.New(null,null,ub,t$);};return W.Of(t7);},max:function(ue){return i.reduce(function(uf){return function(ug){return j.Compare(uf,ug)>=0?uf:ug;};},ue);},maxBy:function(uh,ui){return i.reduce(function(uj){return function(uk){return j.Compare(uh(uj),uh(uk))>=0?uj:uk;};},ui);},min:function(ul){return i.reduce(function(um){return function(un){return j.Compare(um,un)<=0?um:un;};},ul);},minBy:function(uo,up){return i.reduce(function(uq){return function(ur){return j.Compare(uo(uq),uo(ur))<=0?uq:ur;};},up);},nth:function(us,ut){var uu,uv,uw;us<0?f.FailWith("negative index requested"):null;uu=-1;uv=k.Get(ut);try{while(uu<us){!uv.MoveNext()?i.insufficient():null;uu=uu+1;}uw=uv.get_Current();}finally{uv.Dispose!=undefined?uv.Dispose():null;}return uw;},pairwise:function(ux){var uy,uA;uy=function(uz){return[e.get(uz,0),e.get(uz,1)];};uA=i.windowed(2,ux);return i.map(uy,uA);},pick:function(uB,uC){var uD,uE,uF;uD=i.tryPick(uB,uC);if(uD.$==0){uE=f.FailWith("KeyNotFoundException");}else{uF=uD.$0;uE=uF;}return uE;},readOnly:function(uG){return W.Of(function(){return k.Get(uG);});},reduce:function(uI,uJ){var uK,uL,uM;uK=k.Get(uJ);try{!uK.MoveNext()?f.FailWith("The input sequence was empty"):null;uM=uK.get_Current();while(uK.MoveNext()){uM=(uI(uM))(uK.get_Current());}uL=uM;}finally{uK.Dispose!=undefined?uK.Dispose():null;}return uL;},scan:function(uN,uO,uP){var uQ;uQ=function(){var uS,uT,uV;uS=k.Get(uP);uT=function(){return uS.Dispose();};uV=function(uW){var uX,uY;if(uW.s){if(uS.MoveNext()){uW.c=(uN(uW.get_Current()))(uS.get_Current());uY=true;}else{uY=false;}uX=uY;}else{uW.c=uO;uW.s=true;uX=true;}return uX;};return y.New(false,null,uV,uT);};return W.Of(uQ);},skip:function(uZ,u0){return W.Of(function(){var u2,u3;u2=k.Get(u0);for(u3=1;u3<=uZ;u3++){!u2.MoveNext()?i.insufficient():null;}return u2;});},skipWhile:function(u4,u5){return W.Of(function(){var u7,u8,u9;u7=k.Get(u5);u8=true;while(u7.MoveNext()?u4(u7.get_Current()):false){u8=false;}if(u8){u7.Dispose();u9=k.Get(i.empty());}else{u9=y.New(true,null,function(u_){var u$,va;if(u_.s){u_.s=false;u_.c=u7.get_Current();u$=true;}else{va=u7.MoveNext();u_.c=u7.get_Current();u$=va;}return u$;},function(){return u7.Dispose();});}return u9;});},sort:function(vc){return i.sortBy(function(vd){return vd;},vc);},sortBy:function(ve,vf){return i.delay(function(){var vh;vh=e.ofSeq(vf);e.sortInPlaceBy(ve,vh);return vh;});},sum:function(vi){return i.fold(function(vj){return function(vk){return vj+vk;};},0,vi);},sumBy:function(vl,vm){return i.fold(function(vn){return function(vo){return vn+vl(vo);};},0,vm);},take:function(vp,vq){vp<=0?f.FailWith("The input must be non-negative."):null;return W.Of(function(){var vs;vs=[k.Get(vq)];return y.New(0,null,function(vt){var vu,vv,vw,vx;if(vt.s===vp){vu=false;}else{vv=vs[0];if(j.Equals(vv,null)){vw=false;}else{if(vv.MoveNext()){vt.s=vt.s+1;vt.c=vv.get_Current();vx=true;}else{vx=i.insufficient();}vw=vx;}vu=vw;}return vu;},function(){var vz;vz=vs[0];return!j.Equals(vz,null)?vz.Dispose():null;});});},takeWhile:function(vA,vB){return i.delay(function(){return i.enumUsing(k.Get(vB),function(vD){return i.enumWhile(function(){return vD.MoveNext()?vA(vD.get_Current()):false;},i.delay(function(){return[vD.get_Current()];}));});});},toArray:function(vG){var vH,vI,vJ,vK;vH=[];vI=k.Get(vG);try{while(vI.MoveNext()){vK=vI.get_Current();vH.push(vK);}}finally{vI.Dispose!=undefined?vI.Dispose():null;}return vH.slice(0);},toList:function(vL){return L.ofSeq(vL);},truncate:function(vM,vN){return i.delay(function(){return i.enumUsing(k.Get(vN),function(vP){var vQ;vQ=[0];return i.enumWhile(function(){return vP.MoveNext()?vQ[0]<vM:false;},i.delay(function(){X.incr(vQ);return[vP.get_Current()];}));});});},tryFind:function(vT,vU){var vV,vW,vX,vY;vV=k.Get(vU);try{vX={$:0};while(vX.$==0?vV.MoveNext():false){vY=vV.get_Current();vT(vY)?vX={$:1,$0:vY}:null;}vW=vX;}finally{vV.Dispose!=undefined?vV.Dispose():null;}return vW;},tryFindIndex:function(vZ,v0){var v1,v2,v3,v4,v5;v1=k.Get(v0);try{v3=true;v4=0;while(v3?v1.MoveNext():false){v5=v1.get_Current();vZ(v5)?v3=false:v4=v4+1;}v2=v3?{$:0}:{$:1,$0:v4};}finally{v1.Dispose!=undefined?v1.Dispose():null;}return v2;},tryPick:function(v6,v7){var v8,v9,v_;v8=k.Get(v7);try{v_={$:0};while(j.Equals(v_,{$:0})?v8.MoveNext():false){v_=v6(v8.get_Current());}v9=v_;}finally{v8.Dispose!=undefined?v8.Dispose():null;}return v9;},unfold:function(v$,wa){var wb;wb=function(){var wd;wd=function(we){var wf,wg,wh,wi;wf=v$(we.s);if(wf.$==0){wg=false;}else{wh=wf.$0[0];wi=wf.$0[1];we.c=wh;we.s=wi;wg=true;}return wg;};return y.New(wa,null,wd,function(){});};return W.Of(wb);},windowed:function(wk,wl){wk<=0?f.FailWith("The input must be non-negative."):null;return i.delay(function(){return i.enumUsing(k.Get(wl),function(wn){var wo;wo=[];return i.append(i.enumWhile(function(){return wo.length<wk?wn.MoveNext():false;},i.delay(function(){wo.push(wn.get_Current());return i.empty();})),i.delay(function(){return wo.length===wk?i.append([wo.slice(0)],i.delay(function(){return i.enumWhile(function(){return wn.MoveNext();},i.delay(function(){wo.shift();wo.push(wn.get_Current());return[wo.slice(0)];}));})):i.empty();}));});});},zip:function(wv,ww){return i.mapi2(function(wx){return function(wy){return[wx,wy];};},wv,ww);},zip3:function(wz,wA,wB){return i.mapi2(function(wC){return function(wD){var wE,wF;wE=wD[0];wF=wD[1];return[wC,wE,wF];};},wz,i.zip(wA,wB));}},Slice:{array:function(wG,wH,wI){var wJ,wK,wL,wM,wN,wO,wP,wQ;wJ=[wH,wI];if(wJ[0].$==0){if(wJ[1].$==1){wM=wJ[1].$0;wL=wG.slice(0,wM+1);}else{wL=[];}wK=wL;}else{if(wJ[1].$==0){wO=wJ[0].$0;wN=wG.slice(wO);}else{wP=wJ[1].$0;wQ=wJ[0].$0;wN=wG.slice(wQ,wP+1);}wK=wN;}return wK;},array2D:function(wR,wS,wT,wU,wV){var wW,wX,wY,wZ,w0,w1,w2,w3,w4,w5,w6,w7,w8,w9;if(wS.$==1){wY=wS.$0;wX=wY;}else{wX=0;}wW=wX;if(wU.$==1){w1=wU.$0;w0=w1;}else{w0=0;}wZ=w0;if(wT.$==1){w4=wT.$0;w3=w4;}else{w3=wR.length-1;}w2=w3;if(wV.$==1){w7=wV.$0;w6=w7;}else{w6=(wR.length?wR[0].length:0)-1;}w5=w6;w8=w2-wW+1;w9=w5-wZ+1;return e.sub2D(wR,wW,wZ,w8,w9);},array2Dfix1:function(w_,w$,xa,xb){var xc,xd,xe,xf,xg,xh,xi,xj,xk;if(xa.$==1){xe=xa.$0;xd=xe;}else{xd=0;}xc=xd;if(xb.$==1){xh=xb.$0;xg=xh;}else{xg=(w_.length?w_[0].length:0)-1;}xf=xg;xi=xf-xc+1;xj=h(xi);for(xk=0;xk<=xi-1;xk++){e.set(xj,xk,e.get2D(w_,w$,xc+xk));}return xj;},array2Dfix2:function(xl,xm,xn,xo){var xp,xq,xr,xs,xt,xu,xv,xw,xx;if(xm.$==1){xr=xm.$0;xq=xr;}else{xq=0;}xp=xq;if(xn.$==1){xu=xn.$0;xt=xu;}else{xt=xl.length-1;}xs=xt;xv=xs-xp+1;xw=h(xv);for(xx=0;xx<=xv-1;xx++){e.set(xw,xx,e.get2D(xl,xp+xx,xo));}return xw;},setArray:function(xy,xz,xA,xB){var xC,xD,xE,xF,xG,xH;if(xz.$==1){xE=xz.$0;xD=xE;}else{xD=0;}xC=xD;if(xA.$==1){xH=xA.$0;xG=xH;}else{xG=xy.length-1;}xF=xG;return e.setSub(xy,xC,xF-xC+1,xB);},setArray2D:function(xI,xJ,xK,xL,xM,xN){var xO,xP,xQ,xR,xS,xT,xU,xV,xW,xX,xY,xZ;if(xJ.$==1){xQ=xJ.$0;xP=xQ;}else{xP=0;}xO=xP;if(xL.$==1){xT=xL.$0;xS=xT;}else{xS=0;}xR=xS;if(xK.$==1){xW=xK.$0;xV=xW;}else{xV=xI.length-1;}xU=xV;if(xM.$==1){xZ=xM.$0;xY=xZ;}else{xY=(xI.length?xI[0].length:0)-1;}xX=xY;return e.setSub2D(xI,xO,xR,xU-xO+1,xX-xR+1,xN);},setArray2Dfix1:function(x0,x1,x2,x3,x4){var x5,x6,x7,x8,x9,x_,x$,ya;if(x2.$==1){x7=x2.$0;x6=x7;}else{x6=0;}x5=x6;if(x3.$==1){x_=x3.$0;x9=x_;}else{x9=(x0.length?x0[0].length:0)-1;}x8=x9;x$=x8-x5+1;for(ya=0;ya<=x$-1;ya++){e.set2D(x0,x1,x5+ya,e.get(x4,ya));}return;},setArray2Dfix2:function(yb,yc,yd,ye,yf){var yg,yh,yi,yj,yk,yl,ym,yn;if(yc.$==1){yi=yc.$0;yh=yi;}else{yh=0;}yg=yh;if(yd.$==1){yl=yd.$0;yk=yl;}else{yk=yb.length-1;}yj=yk;ym=yj-yg+1;for(yn=0;yn<=ym-1;yn++){e.set2D(yb,yg+yn,ye,e.get(yf,yn));}return;},string:function(yo,yp,yq){var yr,ys,yt,yu,yv,yw,yx,yy;yr=[yp,yq];if(yr[0].$==0){if(yr[1].$==1){yu=yr[1].$0;yt=yo.slice(0,yu+1);}else{yt="";}ys=yt;}else{if(yr[1].$==0){yw=yr[0].$0;yv=yo.slice(yw);}else{yx=yr[1].$0;yy=yr[0].$0;yv=yo.slice(yy,yx+1);}ys=yv;}return ys;}},Stack:{Clear:function(yz){return yz.splice(0,e.length(yz));},Contains:function(yA,yB){return i.exists(function(yC){return j.Equals(yB,yC);},yA);},CopyTo:function(yD,yE,yF){return e.blit(yE,0,yE,yF,e.length(yD));}},Strings:{Compare:function(yG,yH){return f.Compare(yG,yH);},CopyTo:function(yI,yJ,yK,yL,yM){return e.blit(P.ToCharArray(yI),yJ,yK,yL,yM);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(yN,yO){return P.PadLeftWith(yN,yO,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s;},PadRight:function(yP,yQ){return P.PadRightWith(yP,yQ,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(yR,yS,yT){var yU;yU=function(yV){var yW,yX,yY,yZ;yW=yV.indexOf(yS);if(yW!==-1){yY=P.ReplaceOnce(yV,yS,yT);yZ=yW+yT.length;yX=P.Substring(yY,0,yW+yT.length)+yU(yY.substring(yZ));}else{yX=yV;}return yX;};return yU(yR);},ReplaceChar:function(y0,y1,y2){return P.Replace(y0,Y.fromCharCode(y1),Y.fromCharCode(y2));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(y3,y4,y5){var y6;y6=P.SplitWith(y3,y4);return y5===1?e.filter(function(y7){return y7!=="";},y6):y6;},SplitChars:function(y8,y9,y_){var y$;y$="["+P.RegexEscape(Y.fromCharCode.apply(undefined,y9))+"]";return P.Split(y8,new Z(y$),y_);},SplitStrings:function(za,zb,zc){var zd;zd=P.concat("|",e.map(function(ze){return P.RegexEscape(ze);},zb));return P.Split(za,new Z(zd),zc);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(zf){return e.init(zf.length,function(zg){return zf.charCodeAt(zg);});},ToCharArrayRange:function(zh,zi,zj){return e.init(zj,function(zk){return zh.charCodeAt(zi+zk);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(zl,zm){return e.init(zm.length,function(zn){return zl(zm.charCodeAt(zn));}).join("");},concat:function(zo,zp){return i.toArray(zp).join(zo);},exists:function(zq,zr){return i.exists(zq,P.protect(zr));},forall:function(zs,zt){return i.forall(zs,P.protect(zt));},init:function(zu,zv){return e.init(zu,zv).join("");},iter:function(zw,zx){return i.iter(zw,P.protect(zx));},iteri:function(zy,zz){return i.iteri(zy,P.protect(zz));},length:function(zA){return P.protect(zA).length;},map:function(zB,zC){return P.collect(function(zD){return Y.fromCharCode(zB(zD));},P.protect(zC));},mapi:function(zE,zF){return i.toArray(i.mapi(function(zG){return function(zH){return Y.fromCharCode((zE(zG))(zH));};},zF)).join("");},protect:function(zI){return zI===null?"":zI;},replicate:function(zJ,zK){return P.init(zJ,function(){return zK;});}},Unchecked:{Compare:function(zM,zN){var zO,zP,zQ,zR;if(zM===zN){zO=0;}else{zP=typeof zM;if(zP==="undefined"){zR=typeof zN;zQ=zR==="undefined"?0:-1;}else{zQ=zP==="function"?f.FailWith("Cannot compare function values."):zP==="boolean"?zM<zN?-1:1:zP==="number"?zM<zN?-1:1:zP==="string"?zM<zN?-1:1:zM===null?-1:zN===null?1:"CompareTo"in zM?zM.CompareTo(zN):(zM instanceof h?zN instanceof h:false)?j.compareArrays(zM,zN):(zM instanceof v?zN instanceof v:false)?j.compareDates(zM,zN):j.compareArrays(H.GetFields(zM),H.GetFields(zN));}zO=zQ;}return zO;},Equals:function(zS,zT){var zU,zV;if(zS===zT){zU=true;}else{zV=typeof zS;zU=zV==="object"?zS===null?false:zT===null?false:"Equals"in zS?zS.Equals(zT):(zS instanceof h?zT instanceof h:false)?j.arrayEquals(zS,zT):(zS instanceof v?zT instanceof v:false)?j.dateEquals(zS,zT):j.arrayEquals(H.GetFields(zS),H.GetFields(zT)):false;}return zU;},Hash:function(zW){var zX;zX=typeof zW;return zX==="function"?0:zX==="boolean"?zW?1:0:zX==="number"?zW:zX==="string"?j.hashString(zW):zX==="object"?zW==null?0:zW instanceof h?j.hashArray(zW):j.hashObject(zW):0;},arrayEquals:function(zY,zZ){var z0,z1,z2;if(e.length(zY)===e.length(zZ)){z1=true;z2=0;while(z1?z2<e.length(zY):false){!j.Equals(e.get(zY,z2),e.get(zZ,z2))?z1=false:null;z2=z2+1;}z0=z1;}else{z0=false;}return z0;},compareArrays:function(z3,z4){var z5,z6,z7,z8;if(e.length(z3)<e.length(z4)){z5=-1;}else{if(e.length(z3)>e.length(z4)){z6=1;}else{z7=0;z8=0;while(z7===0?z8<e.length(z3):false){z7=j.Compare(e.get(z3,z8),e.get(z4,z8));z8=z8+1;}z6=z7;}z5=z6;}return z5;},compareDates:function(z9,z_){return f.Compare(z9.getTime(),z_.getTime());},dateEquals:function(z$,Aa){return z$.getTime()===Aa.getTime();},hashArray:function(Ab){var Ac,Ad;Ac=-34948909;for(Ad=0;Ad<=e.length(Ab)-1;Ad++){Ac=j.hashMix(Ac,j.Hash(e.get(Ab,Ad)));}return Ac;},hashMix:function(Ae,Af){return(Ae<<5)+Ae+Af;},hashObject:function(Ag){var Ah,Ai,Al;if("GetHashCode"in Ag){Ah=Ag.GetHashCode();}else{Ai=function(Aj,Ak){return j.hashMix(Aj,Ak);};Al=[0];H.ForEach(Ag,function(Am){Al[0]=Ai(Ai(Al[0],j.hashString(Am)),j.Hash(Ag[Am]));return false;});Ah=Al[0];}return Ah;},hashString:function(An){var Ao,Ap,Aq;if(An===null){Ao=0;}else{Ap=5381;for(Aq=0;Aq<=An.length-1;Aq++){Ap=j.hashMix(Ap,An.charCodeAt(Aq)<<0);}Ao=Ap;}return Ao;}},Util:{addListener:function(Ar,As){Ar.Subscribe(s.observer(As));},observer:function(At){return{OnCompleted:function(){},OnError:function(){},OnNext:At};},subscribeTo:function(Aw,Ax){return Aw.Subscribe(s.observer(Ax));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.AggregateException);b=$.Safe($$.WebSharper.Exception);c=$.Safe($$.WebSharper.ArgumentException);d=$.Safe($$.Number);e=$.Safe($$.WebSharper.Arrays);f=$.Safe($$.WebSharper.Operators);g=$.Safe($$.WebSharper.IndexOutOfRangeException);h=$.Safe($$.Array);i=$.Safe($$.WebSharper.Seq);j=$.Safe($$.WebSharper.Unchecked);k=$.Safe($$.WebSharper.Enumerator);l=$.Safe($$.WebSharper.Arrays2D);m=$.Safe($$.WebSharper.Concurrency);n=$.Safe($$.WebSharper.Option);o=$.Safe($$.clearTimeout);p=$.Safe($$.setTimeout);q=$.Safe($$.WebSharper.CancellationTokenSource);r=$.Safe($$.WebSharper.Char);s=$.Safe($$.WebSharper.Util);t=$.Safe($$.WebSharper.Lazy);u=$.Safe($$.WebSharper.OperationCanceledException);v=$.Safe($$.Date);w=$.Safe($$.console);x=$.Safe(m.Scheduler);y=$.Safe(k.T);z=$.Safe($$.WebSharper.Html);A=$.Safe(z.Client);B=$.Safe(A.Activator);C=$.Safe($$.document);D=$.Safe($$.jQuery);E=$.Safe($$.WebSharper.Json);F=$.Safe($$.JSON);G=$.Safe($$.WebSharper.JavaScript);H=$.Safe(G.JSModule);I=$.Safe(A.HtmlContentExtensions);J=$.Safe(I.SingleNode);K=$.Safe($$.WebSharper.InvalidOperationException);L=$.Safe($$.WebSharper.List);M=$.Safe(L.T);N=$.Safe($$.WebSharper.MatchFailureException);O=$.Safe($$.Math);P=$.Safe($$.WebSharper.Strings);Q=$.Safe($$.WebSharper.PrintfHelpers);R=$.Safe($$.WebSharper.Remoting);S=$.Safe(R.XhrProvider);T=$.Safe($$.WebSharper.AsyncProxy);U=$.Safe(R.AjaxRemotingProvider);V=$.Safe($$.window);W=$.Safe($$.WebSharper.Enumerable);X=$.Safe($$.WebSharper.Ref);Y=$.Safe($$.String);return Z=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(a,b);$.Inherit(c,b);$.Inherit(g,b);$.Inherit(K,b);$.Inherit(N,b);$.Inherit(u,b);R.EndPoint();R.AjaxProvider();B.Activate();m.scheduler();m.defCTS();m.GetCT();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b;$.Define($$,{WebSharper:{Web:{InlineControl:$.Class({get_Body:function(){var c;c=a.fold(function(d){return function(e){return d[e];};},b,this.funcName);return c.apply(null,this.args);},get_Body1:function(){return this.get_Body();}})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Arrays);return b=$.Safe($$.window);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{WebSharper:{Testing:{Pervasives:{Do:$.Field(function(){return c.New();}),Runner:{AddTest:function(s,t,u){var v,x;v=function(w){(s(u))(w);return w;};x=t(u);return d.Map(v,x);},AddTestAsync:function(y,z,A){var B,F;B=function(C){return e.Delay(function(){return e.Bind((y(A))(C),function(){return e.Return(C);});});};F=z(A);return d.MapAsync(B,F);},Bind:function(G,H){var I,J,M;if(H.$==1){J=H.$0;I={$:1,$0:e.Delay(function(){return e.Bind(J,function(L){return d.ToAsync(G(L));});})};}else{M=H.$0;I=G(M);}return I;},Map:function(N,O){var P,Q,T;if(O.$==1){Q=O.$0;P={$:1,$0:e.Delay(function(){return e.Bind(Q,function(S){return e.Return(N(S));});})};}else{T=O.$0;P={$:0,$0:N(T)};}return P;},MapAsync:function(U,V){var W,X,_0;if(V.$==1){X=V.$0;W={$:1,$0:e.Delay(function(){return e.Bind(X,function(Z){return U(Z);});})};}else{_0=V.$0;W={$:1,$0:U(_0)};}return W;},ToAsync:function(_1){var _2,_3,_4;if(_1.$==1){_3=_1.$0;_2=_3;}else{_4=_1.$0;_2=e.Delay(function(){return e.Return(_4);});}return _2;}},Section:function(_6){return f.New(_6);},SectionBuilder:$.Class({Run:function(_7){g.module(_7.name);return _7.run.call(null,null);}},{New:function(_8){var _9;_9=$.New(this,{});_9.name=_8;return _9;}}),SubtestBuilder:$.Class({ApproxEqual:function(_,ba,bb){var bc;bc=function(bd){return function(be){var bf,bg;bf=ba(be);bg=bb(be);return bd.push(h.abs(bf-bg)<0.0001,bf,bg);};};return function(bg){return d.AddTest(bc,_,bg);};},ApproxEqualM:function(bh,bi,bj,bk){var bl;bl=function(bm){return function(bn){var bo,bp;bo=bi(bn);bp=bj(bn);return bm.push(h.abs(bo-bp)<0.0001,bo,bp,bk);};};return function(bq){return d.AddTest(bl,bh,bq);};},Bind:function(br,bs){return function(bt){return{$:1,$0:e.Delay(function(){return e.Bind(br,function(bv){var bw,bx,by,bz;bw=(bs(bv))(bt);if(bw.$==1){by=bw.$0;bx=by;}else{bz=bw.$0;bx=e.Return(bz);}return bx;});})};};},DeepEqual:function(bA,bB,bC){var bD;bD=function(bE){return function(bF){return bE.deepEqual(bB(bF),bC(bF));};};return function(bG){return d.AddTest(bD,bA,bG);};},DeepEqualA:function(bH,bI,bJ){var bK;bK=function(bL){return function(bM){return e.Delay(function(){var bO;bO=bJ(bM);return e.Bind(bI(bM),function(bP){return e.Return(bL.deepEqual(bP,bO));});});};};return function(bQ){return d.AddTestAsync(bK,bH,bQ);};},DeepEqualM:function(bR,bS,bT,bU){var bV;bV=function(bW){return function(bX){return bW.deepEqual(bS(bX),bT(bX),bU);};};return function(bY){return d.AddTest(bV,bR,bY);};},DeepEqualMA:function(bZ,b0,b1,b2){var b3;b3=function(b4){return function(b5){return e.Delay(function(){var b7;b7=b1(b5);return e.Bind(b0(b5),function(b8){return e.Return(b4.deepEqual(b8,b7,b2));});});};};return function(b9){return d.AddTestAsync(b3,bZ,b9);};},Equal:function(b_,b$,ca){var cb;cb=function(cc){return function(cd){var ce,cf;ce=b$(cd);cf=ca(cd);return cc.push(i.Equals(ce,cf),ce,cf);};};return function(cg){return d.AddTest(cb,b_,cg);};},EqualA:function(ch,ci,cj){var ck;ck=function(cl){return function(cm){return e.Delay(function(){var co;co=cj(cm);return e.Bind(ci(cm),function(cp){return e.Return(cl.push(i.Equals(cp,co),cp,co));});});};};return function(cq){return d.AddTestAsync(ck,ch,cq);};},EqualM:function(cr,cs,ct,cu){var cv;cv=function(cw){return function(cx){var cy,cz;cy=cs(cx);cz=ct(cx);return cw.push(i.Equals(cy,cz),cy,cz,cu);};};return function(cA){return d.AddTest(cv,cr,cA);};},EqualMA:function(cB,cC,cD,cE){var cF;cF=function(cG){return function(cH){return e.Delay(function(){var cJ;cJ=cD(cH);return e.Bind(cC(cH),function(cK){return e.Return(cG.push(i.Equals(cK,cJ),cK,cJ,cE));});});};};return function(cL){return d.AddTestAsync(cF,cB,cL);};},Expect:function(cM,cN){var cO;cO=function(cP){return function(cQ){return cP.expect(cN(cQ));};};return function(cR){return d.AddTest(cO,cM,cR);};},False:function(cS,cT){var cU;cU=function(cV){return function(cW){return cV.ok(!cT(cW));};};return function(cX){return d.AddTest(cU,cS,cX);};},FalseA:function(cY,cZ){var c0;c0=function(c1){return function(c2){return e.Delay(function(){return e.Bind(cZ(c2),function(c4){return e.Return(c1.ok(!c4));});});};};return function(c5){return d.AddTestAsync(c0,cY,c5);};},FalseM:function(c6,c7,c8){var c9;c9=function(c_){return function(c$){return c_.ok(!c7(c$),c8);};};return function(da){return d.AddTest(c9,c6,da);};},FalseMA:function(db,dc,dd){var de;de=function(df){return function(dg){return e.Delay(function(){return e.Bind(dc(dg),function(di){return e.Return(df.ok(!di,dd));});});};};return function(dj){return d.AddTestAsync(de,db,dj);};},For:function(dk,dl,dm){return function(dn){var _do,dB,dD;_do=function(dp,dq,dr){var ds,dt,du,dv,dw;if(dr.$==1){dt=dr.$1;du=dr.$0;dv=dp(du);dw=function(dx){var dy,dA;dy=function(){return dx;};dA=dv(dn);return d.Map(dy,dA);};ds=_do(dp,d.Bind(dw,dq),dt);}else{ds=dq;}return ds;};dB=function(dC){return _do(dm(dC),{$:0,$0:dC},j.ofSeq(dl(dC)));};dD=dk(dn);return d.Bind(dB,dD);};},For1:function(dE,dF){return function(dG){var dH,dI,dJ,dQ;dH=dE(dG);if(dH.$==1){dJ=dH.$0;dI={$:1,$0:e.Delay(function(){return e.Bind(dJ,function(dL){var dM,dN,dO,dP;dM=(dF(dL))(dG);if(dM.$==1){dO=dM.$0;dN=dO;}else{dP=dM.$0;dN=e.Return(dP);}return dN;});})};}else{dQ=dH.$0;dI=(dF(dQ))(dG);}return dI;};},ForRandom:function(dR,dS,dT,dU){return function(dV){var dW,d9,d_;dW=function(dX,dY,dZ){var d0,d1,d2,d3,d4;if(dZ.$==1){d1=dZ.$1;d2=dZ.$0;d3=dX(d2);d4=function(d5){var d6,d8;d6=function(){return d5;};d8=d3(dV);return d.Map(d6,d8);};d0=dW(dX,d.Bind(d4,dY),d1);}else{d0=dY;}return d0;};d9=dR(dV);d_=function(d$){var ea,eb;ea=dT(d$);eb=dS(d$);return dW(dU(d$),{$:0,$0:d$},k.toList(k.delay(function(){return k.append(k.map(function(ed){return l.get(ea.Base,ed);},m.range(0,l.length(ea.Base)-1)),k.delay(function(){return k.map(function(){return ea.Next.call(null,null);},m.range(1,eb));}));})));};return d.Bind(d_,d9);};},JsEqual:function(eg,eh,ei){var ej;ej=function(ek){return function(el){return ek.equal(eh(el),ei(el));};};return function(em){return d.AddTest(ej,eg,em);};},JsEqualA:function(en,eo,ep){var eq;eq=function(er){return function(es){return e.Delay(function(){var eu;eu=ep(es);return e.Bind(eo(es),function(ev){return e.Return(er.equal(ev,eu));});});};};return function(ew){return d.AddTestAsync(eq,en,ew);};},JsEqualM:function(ex,ey,ez,eA){var eB;eB=function(eC){return function(eD){return eC.equal(ey(eD),ez(eD),eA);};};return function(eE){return d.AddTest(eB,ex,eE);};},JsEqualMA:function(eF,eG,eH,eI){var eJ;eJ=function(eK){return function(eL){return e.Delay(function(){var eN;eN=eH(eL);return e.Bind(eG(eL),function(eO){return e.Return(eK.equal(eO,eN,eI));});});};};return function(eP){return d.AddTestAsync(eJ,eF,eP);};},NotApproxEqual:function(eQ,eR,eS){var eT;eT=function(eU){return function(eV){var eW,eX;eW=eR(eV);eX=eS(eV);return eU.push(h.abs(eW-eX)>0.0001,eW,eX);};};return function(eY){return d.AddTest(eT,eQ,eY);};},NotApproxEqualM:function(eZ,e0,e1,e2){var e3;e3=function(e4){return function(e5){var e6,e7;e6=e0(e5);e7=e1(e5);return e4.push(h.abs(e6-e7)>0.0001,e6,e7,e2);};};return function(e8){return d.AddTest(e3,eZ,e8);};},NotEqual:function(e9,e_,e$){var fa;fa=function(fb){return function(fc){var fd,fe;fd=e_(fc);fe=e$(fc);return fb.push(!i.Equals(fd,fe),fd,fe);};};return function(ff){return d.AddTest(fa,e9,ff);};},NotEqualA:function(fg,fh,fi){var fj;fj=function(fk){return function(fl){return e.Delay(function(){var fn;fn=fi(fl);return e.Bind(fh(fl),function(fo){return e.Return(fk.push(!i.Equals(fo,fn),fo,fn));});});};};return function(fp){return d.AddTestAsync(fj,fg,fp);};},NotEqualM:function(fq,fr,fs,ft){var fu;fu=function(fv){return function(fw){var fx,fy;fx=fr(fw);fy=fs(fw);return fv.push(!i.Equals(fx,fy),fx,fy,ft);};};return function(fz){return d.AddTest(fu,fq,fz);};},NotEqualMA:function(fA,fB,fC,fD){var fE;fE=function(fF){return function(fG){return e.Delay(function(){var fI;fI=fC(fG);return e.Bind(fB(fG),function(fJ){return e.Return(fF.push(!i.Equals(fJ,fI),fJ,fI,fD));});});};};return function(fK){return d.AddTestAsync(fE,fA,fK);};},Raises:function(fL,fM){var fN;fN=function(fO){return function(fP){var fQ,fR,fS;try{fR=fM(fP);fQ=fO.ok(false,"Expected raised exception");}catch(fS){fQ=fO.ok(true);}return fQ;};};return function(fT){return d.AddTest(fN,fL,fT);};},RaisesA:function(fU,fV){var fW;fW=function(fX){return function(fY){var fZ;fZ=fV(fY);return e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(fZ,function(){return e.Return(fX.ok(false,"Expected raised exception"));});}),function(){return e.Return(fX.ok(true));});});};};return function(f4){return d.AddTestAsync(fW,fU,f4);};},RaisesM:function(f5,f6,f7){var f8;f8=function(f9){return function(f_){var f$,ga,gb;try{ga=f6(f_);f$=f9.ok(false,f7);}catch(gb){f$=f9.ok(true,f7);}return f$;};};return function(gc){return d.AddTest(f8,f5,gc);};},RaisesMA:function(gd,ge,gf){var gg;gg=function(gh){return function(gi){var gj;gj=ge(gi);return e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(gj,function(){return e.Return(gh.ok(false,gf));});}),function(){return e.Return(gh.ok(true,gf));});});};};return function(go){return d.AddTestAsync(gg,gd,go);};},Return:function(gp){return function(){return{$:0,$0:gp};};},RunSubtest:function(gr,gs){return function(gt){var gu,gw;gu=function(gv){return(gs(gv))(gt);};gw=gr(gt);return d.Bind(gu,gw);};},True:function(gx,gy){var gz;gz=function(gA){return function(gB){return gA.ok(gy(gB));};};return function(gC){return d.AddTest(gz,gx,gC);};},TrueA:function(gD,gE){var gF;gF=function(gG){return function(gH){return e.Delay(function(){return e.Bind(gE(gH),function(gJ){return e.Return(gG.ok(gJ));});});};};return function(gK){return d.AddTestAsync(gF,gD,gK);};},TrueM:function(gL,gM,gN){var gO;gO=function(gP){return function(gQ){return gP.ok(gM(gQ),gN);};};return function(gR){return d.AddTest(gO,gL,gR);};},TrueMA:function(gS,gT,gU){var gV;gV=function(gW){return function(gX){return e.Delay(function(){return e.Bind(gT(gX),function(gZ){return e.Return(gW.ok(gZ,gU));});});};};return function(g0){return d.AddTestAsync(gV,gS,g0);};},Yield:function(g1){return function(){return{$:0,$0:g1};};},Zero:function(){return function(){return{$:0,$0:undefined};};}},{New:function(){return $.New(this,{});}}),Test:function(g4){return n.New(g4);},TestBuilder:$.Class({Run:function(g5){return g.test(this.name,function(g6){var g7,g8,g9,g_,g$,ha,hh;try{g8=g5(g6);if(g8.$==1){g_=g8.$0;g$=g6.async();ha=e.Delay(function(){return e.TryFinally(e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(g_,function(){return e.Return(null);});}),function(){return e.Return(g6.ok(false,"Test threw an unexpected asynchronous exception"));});}),function(){return g$(null);});});g9=e.Start(ha,{$:0});}else{g9=null;}g7=g9;}catch(hh){g7=g6.ok(false,"Test threw an unexpected synchronous exception");}return g7;});}},{New:function(hi){var hj;hj=$.New(this,c.New());hj.name=hi;return hj;}})},Random:{ArrayOf:function(hk){return{Base:[[]],Next:function(){var hm;hm=o.Natural().Next.call(null,null)%100;return l.init(hm,function(){return hk.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return o.StandardUniform().Next.call(null,null)>0.5;}};}),Const:function(hp){return{Base:[hp],Next:function(){return hp;}};},Exponential:function(hr){return{Base:[],Next:function(){var ht;ht=o.StandardUniform().Next.call(null,null);return-h.log(1-ht)/hr;}};},Float:$.Field(function(){return{Base:[0],Next:function(){var hv;hv=o.Boolean().Next.call(null,null)?1:-1;return hv*o.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,p,q,-q],Next:function(){return o.Float().Next.call(null,null);}};}),FloatWithin:function(hx,hy){return{Base:[hx,hy],Next:function(){return hx+(hy-hx)*h.random();}};},Implies:function(hA,hB){return!hA?true:hB;},Imply:function(hC,hD){return o.Implies(hC,hD);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return h.round(o.Float().Next.call(null,null));}};}),ListOf:function(hF){var hG,hI;hG=function(hH){return j.ofArray(hH);};hI=o.ArrayOf(hF);return o.Map(hG,hI);},Map:function(hJ,hK){var hL;hL=hK.Next;return{Base:l.map(hJ,hK.Base),Next:function(hM){return hJ(hL(hM));}};},Mix:function(hN,hO){var hP;hP=[false];return{Base:hN.Base.concat(hO.Base),Next:function(){hP[0]=!hP[0];return hP[0]?hN.Next.call(null,null):hO.Next.call(null,null);}};},Natural:$.Field(function(){var hR;hR=o.Int().Next;return{Base:[0,1],Next:function(hS){var hT;hT=hR(hS);return h.abs(hT);}};}),OneOf:function(hU){var hV;hV=o.Within(1,l.length(hU));return{Base:hU,Next:function(){return l.get(hU,hV.Next.call(null,null)-1);}};},OptionOf:function(hX){return o.Mix(o.Const({$:0}),o.Map(function(hY){return{$:1,$0:hY};},hX));},StandardUniform:$.Field(function(){return{Base:[],Next:function(){return h.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){var h1,h2;h1=o.Natural().Next.call(null,null)%100;h2=l.init(h1,function(){return o.Int().Next.call(null,null)%256;});return r.fromCharCode.apply(undefined,h2);}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:o.String().Next};}),Tuple2Of:function(h4,h5){return{Base:k.toArray(k.delay(function(){return k.collect(function(h7){return k.map(function(h8){return[h7,h8];},h5.Base);},h4.Base);})),Next:function(){return[h4.Next.call(null,null),h5.Next.call(null,null)];}};},Tuple3Of:function(h_,h$,ia){return{Base:k.toArray(k.delay(function(){return k.collect(function(ic){return k.collect(function(id){return k.map(function(ie){return[ic,id,ie];},ia.Base);},h$.Base);},h_.Base);})),Next:function(){return[h_.Next.call(null,null),h$.Next.call(null,null),ia.Next.call(null,null)];}};},Within:function(ig,ih){return{Base:[ig,ih],Next:function(){return o.Natural().Next.call(null,null)%(ih-ig)+ig;}};}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Testing);b=$.Safe(a.Pervasives);c=$.Safe(b.SubtestBuilder);d=$.Safe(b.Runner);e=$.Safe($$.WebSharper.Concurrency);f=$.Safe(b.SectionBuilder);g=$.Safe($$.QUnit);h=$.Safe($$.Math);i=$.Safe($$.WebSharper.Unchecked);j=$.Safe($$.WebSharper.List);k=$.Safe($$.WebSharper.Seq);l=$.Safe($$.WebSharper.Arrays);m=$.Safe($$.WebSharper.Operators);n=$.Safe(b.TestBuilder);o=$.Safe(a.Random);p=$.Safe($$.NaN);q=$.Safe($$.Infinity);return r=$.Safe($$.String);});$.OnLoad(function(){$.Inherit(n,c);o.StringExhaustive();o.String();o.StandardUniform();o.Natural();o.Int();o.FloatExhaustive();o.Float();o.Boolean();b.Do();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{WebSharper:{Html:{Client:{Attr:{Attr:$.Field(function(){return c.Attr();})},Attribute:$.Class({get_Body:function(){var u;u=this.HtmlProvider.CreateAttribute(this.Name);u.value=this.Value;return u;}},{New:function(v,w,x){var y;y=d.New1(v);y.Name=w;y.Value=x;return y;},New1:function(z){var A;A=$.New(this,e.New());A.HtmlProvider=z;return A;}}),AttributeBuilder:$.Class({NewAttr:function(B,C){var D;D=d.New(this.HtmlProvider,B,C);return D;}},{New:function(E){var F;F=$.New(this,{});F.HtmlProvider=E;return F;}}),Default:{OnLoad:function(G){return c.HtmlProvider().OnDocumentReady(G);}},DeprecatedAttributeBuilder:$.Class({NewAttr:function(H,I){var J;J=d.New(this.HtmlProvider,H,I);return J;}},{New:function(K){var L;L=$.New(this,{});L.HtmlProvider=K;return L;}}),DeprecatedTagBuilder:$.Class({NewTag:function(M,N){var O,P,Q,R;O=f.New(this.HtmlProvider,M);P=g.Get(N);try{while(P.MoveNext()){R=P.get_Current();O.AppendI(R);}}finally{P.Dispose!=undefined?P.Dispose():null;}return O;}},{New:function(S){var T;T=$.New(this,{});T.HtmlProvider=S;return T;}}),Element:$.Class({AppendI:function(U){var V,W,X,Y,Z,_0,_1,_2,_3;V=U.get_Body();if(V.nodeType===2){X=this["HtmlProvider@33"];Y=this.get_Body();W=X.AppendAttribute(Y,V);}else{Z=this["HtmlProvider@33"];_0=this.get_Body();_1=U.get_Body();W=Z.AppendNode(_0,_1);}if(this.IsRendered){_2=U.Render();}else{_3=this.RenderInternal;_2=void(this.RenderInternal=function(){_3(null);return U.Render();});}return _2;},AppendN:function(_5){var _6,_7;_6=this["HtmlProvider@33"];_7=this.get_Body();return _6.AppendNode(_7,_5);},OnLoad:function(_8){var _9,_;_9=this["HtmlProvider@33"];_=this.get_Body();return _9.OnLoad(_,_8);},Render:function(){var ba;if(!this.IsRendered){this.RenderInternal.call(null,null);ba=void(this.IsRendered=true);}else{ba=null;}return ba;},get_Body:function(){return this.Dom;},get_Html:function(){return this["HtmlProvider@33"].GetHtml(this.get_Body());},get_HtmlProvider:function(){return this["HtmlProvider@33"];},get_Id:function(){var ba,bb,bc,bd,be,bf,bg;ba=this["HtmlProvider@33"];bb=this.get_Body();bc=ba.GetProperty(bb,"id");if(bc===undefined?true:bc===""){be="id"+h.round(h.random()*100000000);bf=this["HtmlProvider@33"];bg=this.get_Body();bf.SetProperty(bg,"id",be);bd=be;}else{bd=bc;}return bd;},get_Item:function(bh){var bi,bj,bk,bl;bi=this["HtmlProvider@33"];bj=this.get_Body();bi.GetAttribute(bj,bh);bk=this["HtmlProvider@33"];bl=this.get_Body();return bk.GetAttribute(bl,bh);},get_Text:function(){return this["HtmlProvider@33"].GetText(this.get_Body());},get_Value:function(){return this["HtmlProvider@33"].GetValue(this.get_Body());},set_Html:function(bm){var bn,bo;bn=this["HtmlProvider@33"];bo=this.get_Body();return bn.SetHtml(bo,bm);},set_Item:function(bp,bq){var br,bs;br=this["HtmlProvider@33"];bs=this.get_Body();return br.SetAttribute(bs,bp,bq);},set_Text:function(bt){var bu,bv;bu=this["HtmlProvider@33"];bv=this.get_Body();return bu.SetText(bv,bt);},set_Value:function(bw){var bx,by;bx=this["HtmlProvider@33"];by=this.get_Body();return bx.SetValue(by,bw);}},{New:function(bz,bA){var bB,bC;bB=f.New1(bz);bC=i.createElement(bA);bB.RenderInternal=function(){};bB.Dom=bC;bB.IsRendered=false;return bB;},New1:function(bE){var bF;bF=$.New(this,e.New());bF["HtmlProvider@33"]=bE;return bF;}}),Events:{JQueryEventSupport:$.Class({OnBlur:function(bG,bH){return j(bH.get_Body()).bind("blur",function(){return bG(bH);});},OnChange:function(bI,bJ){return j(bJ.get_Body()).bind("change",function(){return bI(bJ);});},OnClick:function(bK,bL){return this.OnMouse("click",bK,bL);},OnDoubleClick:function(bM,bN){return this.OnMouse("dblclick",bM,bN);},OnError:function(bO,bP){return j(bP.get_Body()).bind("error",function(){return bO(bP);});},OnEvent:function(bQ,bR,bS){return j(bS.get_Body()).bind(bQ,function(bT){return(bR(bS))(bT);});},OnFocus:function(bU,bV){return j(bV.get_Body()).bind("focus",function(){return bU(bV);});},OnKeyDown:function(bW,bX){return j(bX.get_Body()).bind("keydown",function(bY){return(bW(bX))({KeyCode:bY.keyCode,Event:bY});});},OnKeyPress:function(bZ,b0){return j(b0.get_Body()).keypress(function(b1){return(bZ(b0))({CharacterCode:b1.which,Event:b1});});},OnKeyUp:function(b2,b3){return j(b3.get_Body()).bind("keyup",function(b4){return(b2(b3))({KeyCode:b4.keyCode,Event:b4});});},OnLoad:function(b5,b6){return j(b6.get_Body()).bind("load",function(){return b5(b6);});},OnMouse:function(b7,b8,b9){return j(b9.get_Body()).bind(b7,function(b_){return(b8(b9))({X:b_.pageX,Y:b_.pageY,Event:b_});});},OnMouseDown:function(b$,ca){return this.OnMouse("mousedown",b$,ca);},OnMouseEnter:function(cb,cc){return this.OnMouse("mouseenter",cb,cc);},OnMouseLeave:function(cd,ce){return this.OnMouse("mouseleave",cd,ce);},OnMouseMove:function(cf,cg){return this.OnMouse("mousemove",cf,cg);},OnMouseOut:function(ch,ci){return this.OnMouse("mouseout",ch,ci);},OnMouseUp:function(cj,ck){return this.OnMouse("mouseup",cj,ck);},OnResize:function(cl,cm){return j(cm.get_Body()).bind("resize",function(){return cl(cm);});},OnScroll:function(cn,co){return j(co.get_Body()).bind("scroll",function(){return cn(co);});},OnSelect:function(cp,cq){return j(cq.get_Body()).bind("select",function(){return cp(cq);});},OnSubmit:function(cr,cs){return j(cs.get_Body()).bind("submit",function(){return cr(cs);});},OnUnLoad:function(ct,cu){return j(cu.get_Body()).bind("unload",function(){return ct(cu);});}},{New:function(){return $.New(this,{});}})},EventsPervasives:{Events:$.Field(function(){return l.New();})},Implementation:{Attr:$.Field(function(){return m.New(c.HtmlProvider());}),DeprecatedHtml:$.Field(function(){return n.New(c.HtmlProvider());}),HtmlProvider:$.Field(function(){return o.New();}),JQueryHtmlProvider:$.Class({AddClass:function(cv,cw){return j(cv).addClass(cw);},AppendAttribute:function(cx,cy){var cz,cA;cz=cy.nodeName;cA=cy.value;return this.SetAttribute(cx,cz,cA);},AppendNode:function(cB,cC){return j(cB).append(j(cC));},Clear:function(cD){return j(cD).contents().detach();},CreateAttribute:function(cE){return i.createAttribute(cE);},CreateElement:function(cF){return i.createElement(cF);},CreateTextNode:function(cG){return i.createTextNode(cG);},GetAttribute:function(cH,cI){return j(cH).attr(cI);},GetHtml:function(cJ){return j(cJ).html();},GetProperty:function(cK,cL){var cM;cM=j(cK).prop(cL);return cM;},GetText:function(cN){return cN.textContent;},GetValue:function(cO){var cP;cP=j(cO).val();return cP;},HasAttribute:function(cQ,cR){return j(cQ).attr(cR)!=null;},OnDocumentReady:function(cS){return j(i).ready(cS);},OnLoad:function(cT,cU){return j(cT).ready(cU);},Remove:function(cV){return j(cV).remove();},RemoveAttribute:function(cW,cX){return j(cW).removeAttr(cX);},RemoveClass:function(cY,cZ){return j(cY).removeClass(cZ);},SetAttribute:function(c0,c1,c2){return j(c0).attr(c1,c2);},SetCss:function(c3,c4,c5){return j(c3).css(c4,c5);},SetHtml:function(c6,c7){return j(c6).html(c7);},SetProperty:function(c8,c9,c_){var c$;c$=j(c8).prop(c9,c_);return c$;},SetStyle:function(da,db){return j(da).attr("style",db);},SetText:function(dc,dd){dc.textContent=dd;},SetValue:function(de,df){return j(de).val(df);}},{New:function(){return $.New(this,{});}}),Tags:$.Field(function(){return p.New(c.HtmlProvider());})},Operators:{OnAfterRender:function(dg,dh){var di;di=dh.Render;dh.Render=function(){di.apply(dh);return dg(dh);};return;},OnBeforeRender:function(dk,dl){var dm;dm=dl.Render;dl.Render=function(){dk(dl);return dm.apply(dl);};return;},add:function(_do,dp){var dq,dr,ds;dq=g.Get(dp);try{while(dq.MoveNext()){ds=dq.get_Current();_do.AppendI(ds);}}finally{dq.Dispose!=undefined?dq.Dispose():null;}return _do;}},Pagelet:$.Class({AppendTo:function(dt){var du,dv;du=i.getElementById(dt);dv=du.appendChild(this.get_Body());return this.Render();},Render:function(){return null;},ReplaceInDom:function(dw){var dx;dx=dw.parentNode.replaceChild(this.get_Body(),dw);return this.Render();}},{New:function(){return $.New(this,{});}}),TagBuilder:$.Class({NewTag:function(dy,dz){var dA,dB,dC,dD;dA=f.New(this.HtmlProvider,dy);dB=g.Get(dz);try{while(dB.MoveNext()){dD=dB.get_Current();dA.AppendI(dD);}}finally{dB.Dispose!=undefined?dB.Dispose():null;}return dA;},text:function(dE){return q.New(dE);}},{New:function(dF){var dG;dG=$.New(this,{});dG.HtmlProvider=dF;return dG;}}),Tags:{Deprecated:$.Field(function(){return c.DeprecatedHtml();}),Tags:$.Field(function(){return c.Tags();})},Text:$.Class({get_Body:function(){return i.createTextNode(this.text);}},{New:function(dH){var dI;dI=$.New(this,e.New());dI.text=dH;return dI;}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Html);b=$.Safe(a.Client);c=$.Safe(b.Implementation);d=$.Safe(b.Attribute);e=$.Safe(b.Pagelet);f=$.Safe(b.Element);g=$.Safe($$.WebSharper.Enumerator);h=$.Safe($$.Math);i=$.Safe($$.document);j=$.Safe($$.jQuery);k=$.Safe(b.Events);l=$.Safe(k.JQueryEventSupport);m=$.Safe(b.AttributeBuilder);n=$.Safe(b.DeprecatedTagBuilder);o=$.Safe(c.JQueryHtmlProvider);p=$.Safe(b.TagBuilder);q=$.Safe(b.Text);r=$.Safe(b.Attr);s=$.Safe(b.EventsPervasives);return t=$.Safe(b.Tags);});$.OnLoad(function(){$.Inherit(d,e);$.Inherit(f,e);$.Inherit(q,e);t.Tags();t.Deprecated();c.Tags();c.HtmlProvider();c.DeprecatedHtml();c.Attr();s.Events();r.Attr();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;$.Define($$,{WebSharper:{Control:{Disposable:{Of:function(F){return{Dispose:F};}},Event:{Event:$.Class({AddHandler:function(G){return this.Handlers.Add(G);},RemoveHandler:function(H){var I,K,L,N,O;I=function(J){return a.Equals(H,J);};K=this.Handlers;L=function(M){return K.RemoveAt(M);};N=this.Handlers;O=b.tryFindIndex(I,N);return c.iter(L,O);},Subscribe:function(P){var Q,T=this;Q=function(R){return P.OnNext(R);};this.AddHandler(Q);return e.Of(function(){return T.RemoveHandler(Q);});},Trigger:function(U){var V,W,X;V=this.Handlers.ToArray();for(W=0;W<=V.length-1;W++){X=f.get(V,W);X(U);}return;}})},EventModule:{Choose:function(Y,Z){var _0;_0=g.New();h.addListener(Z,function(_1){var _2,_3,_4;_2=Y(_1);if(_2.$==0){_3=null;}else{_4=_2.$0;_3=_0.event.Trigger(_4);}return _3;});return _0.event;},Filter:function(_5,_6){var _7;_7=$.New(j,{Handlers:m.New2()});h.addListener(_6,function(_8){return _5(_8)?_7.Trigger(_8):null;});return _7;},Map:function(_9,_){var ba;ba=$.New(j,{Handlers:m.New2()});h.addListener(_,function(bb){return ba.Trigger(_9(bb));});return ba;},Merge:function(bb,bc){var bd;bd=$.New(j,{Handlers:m.New2()});h.addListener(bb,function(be){return bd.Trigger(be);});h.addListener(bc,function(bf){return bd.Trigger(bf);});return bd;},Pairwise:function(bg){var bh,bi;bh=[{$:0}];bi=$.New(j,{Handlers:m.New2()});h.addListener(bg,function(bj){var bk,bl,bm;bk=bh[0];if(bk.$==1){bm=bk.$0;bh[0]={$:1,$0:bj};bl=bi.Trigger([bm,bj]);}else{bl=void(bh[0]={$:1,$0:bj});}return bl;});return bi;},Partition:function(bn,bo){return[n.Filter(bn,bo),n.Filter(function(bp){var bq;bq=bn(bp);return!bq;},bo)];},Scan:function(br,bs,bt){var bu,bv;bu=[bs];bv=function(bw){bu[0]=(br(bu[0]))(bw);return bu[0];};return n.Map(bv,bt);},Split:function(bx,by){var bz,bE;bz=function(bA){var bB,bC,bD;bB=bx(bA);if(bB.$==0){bD=bB.$0;bC={$:1,$0:bD};}else{bC={$:0};}return bC;};bE=function(bF){var bG,bH,bI;bG=bx(bF);if(bG.$==1){bI=bG.$0;bH={$:1,$0:bI};}else{bH={$:0};}return bH;};return[n.Choose(bz,by),n.Choose(bE,by)];}},FSharpEvent:$.Class({},{New:function(){var bJ;bJ=$.New(this,{});bJ.event=$.New(j,{Handlers:m.New2()});return bJ;}}),HotStream:{HotStream:$.Class({Subscribe:function(bK){var bL;this.Latest[0].$==1?bK.OnNext(this.Latest[0].$0):null;bL=h.subscribeTo(this.Event.event,function(bM){return bK.OnNext(bM);});return bL;},Trigger:function(bN){this.Latest[0]={$:1,$0:bN};return this.Event.event.Trigger(bN);}},{New:function(){return $.New(p,{Latest:[{$:0}],Event:g.New()});}})},MailboxProcessor:$.Class({PostAndAsyncReply:function(bO,bP){var bR=this;return q.Delay(function(){return q.Bind(bR.PostAndTryAsyncReply(bO,bP),function(bS){var bT,bU;if(bS.$==1){bU=bS.$0;bT=bU;}else{bT=r.Raise(new s("TimeoutException"));}return q.Return(bT);});});},PostAndTryAsyncReply:function(bV,bW){var bX,bY,b6=this;bX=r.DefaultArg(bW,this.get_DefaultTimeout());bY=function(bZ){var b0,b1,b2,b3,b4,b7,b8,b$;b0=bZ[0];b1=bZ[1];b2=bZ[2];if(bX<0){b4=bV(function(b5){return b0({$:1,$0:b5});});b6.mailbox.AddLast(b4);b3=b6.resume();}else{b7=[true];b8=bV(function(b9){var b_;if(b7[0]){b7[0]=false;b_=b0({$:1,$0:b9});}else{b_=null;}return b_;});b6.mailbox.AddLast(b8);b6.resume();b$=t(function(){var cb;if(b7[0]){b7[0]=false;cb=b0({$:0});}else{cb=null;}return cb;},bX);b3=void b$;}return b3;};return q.FromContinuations(bY);},Receive:function(cc){var ce=this;return q.Delay(function(){return q.Bind(ce.TryReceive(cc),function(cf){var cg,ch;if(cf.$==1){ch=cf.$0;cg=ch;}else{cg=r.Raise(new s("TimeoutException"));}return q.Return(cg);});});},Scan:function(ci,cj){var cl=this;return q.Delay(function(){return q.Bind(cl.TryScan(ci,cj),function(cm){var cn,co;if(cm.$==1){co=cm.$0;cn=co;}else{cn=r.Raise(new s("TimeoutException"));}return q.Return(cn);});});},Start:function(){var cp,cq,ct=this;if(this.started){cp=r.FailWith("The MailboxProcessor has already been started.");}else{this.started=true;cq=q.Delay(function(){return q.TryWith(q.Delay(function(){return q.Bind(ct.initial.call(null,ct),function(){return q.Return(null);});}),function(cv){ct.errorEvent.event.Trigger(cv);return q.Return(null);});});cp=ct.startAsync(cq);}return cp;},TryReceive:function(cw){var cx,cy,cD=this;cx=r.DefaultArg(cw,this.get_DefaultTimeout());cy=function(cz){var cA,cB,cC,cE,cF,cG,cJ,cK,cN,cR;cA=cz[0];cB=cz[1];cC=cz[2];if(a.Equals(cD.mailbox.get_First(),null)){if(cx<0){cG=q.Delay(function(){var cI;cI=cD.dequeue();cA({$:1,$0:cI});return q.Return(null);});cF=void(cD.savedCont={$:1,$0:cG});}else{cJ=[true];cK=t(function(){var cM;if(cJ[0]){cJ[0]=false;cD.savedCont={$:0};cM=cA({$:0});}else{cM=null;}return cM;},cx);cN=q.Delay(function(){var cP,cQ;if(cJ[0]){cJ[0]=false;u(cK);cQ=cD.dequeue();cA({$:1,$0:cQ});cP=q.Return(null);}else{cP=q.Return(null);}return cP;});cF=void(cD.savedCont={$:1,$0:cN});}cE=cF;}else{cR=cD.dequeue();cE=cA({$:1,$0:cR});}return cE;};return q.FromContinuations(cy);},TryScan:function(cS,cT){var cU,cZ=this;cU=r.DefaultArg(cT,this.get_DefaultTimeout());return q.Delay(function(){var cW,c3,c4,c5,c7;cW=function(){var cY,c0,c1,c2;cY=cZ.mailbox.get_First();c0={$:0};while(!a.Equals(cY,null)){c1=cS(cY.v);if(c1.$==0){c2=cY=cY.n;}else{cZ.mailbox.Remove(cY);cY=null;c2=c0=c1;}}return c0;};c3=cW(null);if(c3.$==1){c5=c3.$0;c4=q.Bind(c5,function(c6){return q.Return({$:1,$0:c6});});}else{c7=function(c8){var c9,c_,c$,da,db,dj,dk,dn;c9=c8[0];c_=c8[1];c$=c8[2];if(cU<0){db=function(){var dd;dd=q.Delay(function(){var df,dg,dh;df=cS(cZ.mailbox.get_First().v);if(df.$==1){dh=df.$0;cZ.mailbox.RemoveFirst();dg=q.Bind(dh,function(di){c9({$:1,$0:di});return q.Return(null);});}else{db(null);dg=q.Return(null);}return dg;});cZ.savedCont={$:1,$0:dd};return;};da=db(null);}else{dj=[true];dk=t(function(){var dm;if(dj[0]){dj[0]=false;cZ.savedCont={$:0};dm=c9({$:0});}else{dm=null;}return dm;},cU);dn=function(){var dp;dp=q.Delay(function(){var dr,ds,dt;dr=cS(cZ.mailbox.get_First().v);if(dr.$==1){dt=dr.$0;cZ.mailbox.RemoveFirst();ds=q.Bind(dt,function(du){var dv;if(dj[0]){dj[0]=false;u(dk);c9({$:1,$0:du});dv=q.Return(null);}else{dv=q.Return(null);}return dv;});}else{dn(null);ds=q.Return(null);}return ds;});cZ.savedCont={$:1,$0:dp};return;};da=dn(null);}return da;};c4=q.FromContinuations(c7);}return c4;});},dequeue:function(){var dw;dw=this.mailbox.get_First().v;this.mailbox.RemoveFirst();return dw;},get_CurrentQueueLength:function(){return this.mailbox.get_Count();},get_DefaultTimeout:function(){return this["DefaultTimeout@"];},get_Error:function(){return this.errorEvent.event;},resume:function(){var dx,dy,dz;dx=this.savedCont;if(dx.$==1){dz=dx.$0;this.savedCont={$:0};dy=this.startAsync(dz);}else{dy=null;}return dy;},set_DefaultTimeout:function(dA){this["DefaultTimeout@"]=dA;return;},startAsync:function(dB){return q.Start(dB,this.token);}},{New:function(dC,dD){var dE,dF,dG,dH,dI;dE=$.New(this,{});dE.initial=dC;dE.token=dD;dE.started=false;dE.errorEvent=g.New();dE.mailbox=w.New();dE.savedCont={$:0};dF=dE.token;if(dF.$==0){dG=null;}else{dH=dF.$0;dI=q.Register(dH,function(){return function(){return dE.resume();}();});dG=void dI;}dE["DefaultTimeout@"]=-1;return dE;},Start:function(dL,dM){var dN;dN=x.New(dL,dM);dN.Start();return dN;}}),Observable:{Aggregate:function(dO,dP,dQ){var dR;dR=function(dS){var dT,dU,dZ;dT=[dP];dU=function(dV){return y.Protect(function(){return(dQ(dT[0]))(dV);},function(dX){dT[0]=dX;return dS.OnNext(dX);},function(dY){return dS.OnError(dY);});};dZ=z.New(dU,function(d0){return dS.OnError(d0);},function(){return dS.OnCompleted();});return dO.Subscribe(dZ);};return y.New(dR);},Choose:function(d2,d3){var d4;d4=function(d5){var d6,eb;d6=function(d7){var d9;d9=function(d_){return d5.OnNext(d_);};return y.Protect(function(){return d2(d7);},function(d$){return c.iter(d9,d$);},function(ea){return d5.OnError(ea);});};eb=z.New(d6,function(ec){return d5.OnError(ec);},function(){return d5.OnCompleted();});return d3.Subscribe(eb);};return y.New(d4);},CombineLatest:function(ee,ef,eg){var eh;eh=function(ei){var ej,ek,el,ev,ex,eA,eC,eF,eG;ej=[{$:0}];ek=[{$:0}];el=function(){var en,eo,ep,eq,er;en=[ej[0],ek[0]];if(en[0].$==1){if(en[1].$==1){eq=en[0].$0;er=en[1].$0;ep=y.Protect(function(){return(eg(eq))(er);},function(et){return ei.OnNext(et);},function(eu){return ei.OnError(eu);});}else{ep=null;}eo=ep;}else{eo=null;}return eo;};ev=function(ew){ej[0]={$:1,$0:ew};return el(null);};ex=z.New(ev,function(){},function(){});eA=function(eB){ek[0]={$:1,$0:eB};return el(null);};eC=z.New(eA,function(){},function(){});eF=ee.Subscribe(ex);eG=ef.Subscribe(eC);return e.Of(function(){eF.Dispose();return eG.Dispose();});};return y.New(eh);},Concat:function(eI,eJ){var eK;eK=function(eL){var eM,eN,eS;eM=[{$:0}];eN=eI.Subscribe(z.New(function(eO){return eL.OnNext(eO);},function(){},function(){var eR;eR=eJ.Subscribe(eL);eM[0]={$:1,$0:eR};}));eS=function(){eM[0].$==1?eM[0].$0.Dispose():null;return eN.Dispose();};return e.Of(eS);};return y.New(eK);},Drop:function(eU,eV){var eW;eW=function(eX){var eY,eZ,e1;eY=[0];eZ=function(e0){A.incr(eY);return eY[0]>eU?eX.OnNext(e0):null;};e1=z.New(eZ,function(e2){return eX.OnError(e2);},function(){return eX.OnCompleted();});return eV.Subscribe(e1);};return y.New(eW);},Filter:function(e4,e5){var e6;e6=function(e7){var e8,fd;e8=function(e9){var e$;e$=function(fa){return e7.OnNext(fa);};return y.Protect(function(){return e4(e9)?{$:1,$0:e9}:{$:0};},function(fb){return c.iter(e$,fb);},function(fc){return e7.OnError(fc);});};fd=z.New(e8,function(fe){return e7.OnError(fe);},function(){return e7.OnCompleted();});return e5.Subscribe(fd);};return y.New(e6);},Map:function(fg,fh){var fi;fi=function(fj){var fk,fp;fk=function(fl){return y.Protect(function(){return fg(fl);},function(fn){return fj.OnNext(fn);},function(fo){return fj.OnError(fo);});};fp=z.New(fk,function(fq){return fj.OnError(fq);},function(){return fj.OnCompleted();});return fh.Subscribe(fp);};return y.New(fi);},Merge:function(fs,ft){var fu;fu=function(fv){var fw,fx,fy,fC,fD,fH;fw=[false];fx=[false];fy=z.New(function(fz){return fv.OnNext(fz);},function(){},function(){fw[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fC=fs.Subscribe(fy);fD=z.New(function(fE){return fv.OnNext(fE);},function(){},function(){fx[0]=true;return(fw[0]?fx[0]:false)?fv.OnCompleted():null;});fH=ft.Subscribe(fD);return e.Of(function(){fC.Dispose();return fH.Dispose();});};return y.New(fu);},Never:function(){return y.New(function(){return e.Of(function(){});});},New:function(fL){return $.New(B,{Subscribe1:fL});},Observable:$.Class({Subscribe:function(fM){return this.Subscribe1.call(null,fM);}}),Of:function(fN){return y.New(function(fO){return e.Of(fN(function(fP){return fO.OnNext(fP);}));});},Protect:function(fQ,fR,fS){var fT,fU,fV,fW,fX,fY;try{fU={$:0,$0:fQ(null)};}catch(fV){fU={$:1,$0:fV};}fT=fU;if(fT.$==1){fX=fT.$0;fW=fS(fX);}else{fY=fT.$0;fW=fR(fY);}return fW;},Range:function(fZ,f0){var f1;f1=function(f2){var f3;for(f3=fZ;f3<=fZ+f0;f3++){f2.OnNext(f3);}return e.Of(function(){});};return y.New(f1);},Return:function(f5){var f6;f6=function(f7){f7.OnNext(f5);f7.OnCompleted();return e.Of(function(){});};return y.New(f6);},SelectMany:function(f9){return y.New(function(f_){var f$,gb;f$=[function(){}];gb=h.subscribeTo(f9,function(gc){var gd;gd=h.subscribeTo(gc,function(ge){return f_.OnNext(ge);});f$[0]=function(){f$[0].call(null,null);return gd.Dispose();};return;});return e.Of(function(){f$[0].call(null,null);return gb.Dispose();});});},Sequence:function(gh){var gi;gi=function(gj){var gk,gl,gm,gn;if(gj.$==1){gl=gj.$1;gm=gj.$0;gn=gi(gl);gk=y.CombineLatest(gm,gn,function(go){return function(gp){return $.New(D,{$:1,$0:go,$1:gp});};});}else{gk=y.Return($.New(D,{$:0}));}return gk;};return gi(C.ofSeq(gh));},Switch:function(gq){return y.New(function(gr){var gs,gt,gu;gs=[0];gt=[{$:0}];gu=h.subscribeTo(gq,function(gv){var gw,gx,gz;A.incr(gs);gt[0].$==1?gt[0].$0.Dispose():null;gw=gs[0];gx=h.subscribeTo(gv,function(gy){return gw===gs[0]?gr.OnNext(gy):null;});gz={$:1,$0:gx};gt[0]=gz;return;});return gu;});}},ObservableModule:{Pairwise:function(gA){var gB;gB=function(gC){var gD,gE,gJ;gD=[{$:0}];gE=function(gF){var gG,gH,gI;gG=gD[0];if(gG.$==1){gI=gG.$0;gH=gC.OnNext([gI,gF]);}else{gH=null;}gD[0]={$:1,$0:gF};return;};gJ=z.New(gE,function(gK){return gC.OnError(gK);},function(){return gC.OnCompleted();});return gA.Subscribe(gJ);};return y.New(gB);},Partition:function(gM,gN){return[y.Filter(gM,gN),y.Filter(function(gO){var gP;gP=gM(gO);return!gP;},gN)];},Scan:function(gQ,gR,gS){var gT;gT=function(gU){var gV,gW,g1;gV=[gR];gW=function(gX){return y.Protect(function(){return(gQ(gV[0]))(gX);},function(gZ){gV[0]=gZ;return gU.OnNext(gZ);},function(g0){return gU.OnError(g0);});};g1=z.New(gW,function(g2){return gU.OnError(g2);},function(){return gU.OnCompleted();});return gS.Subscribe(g1);};return y.New(gT);},Split:function(g4,g5){var g6,g$,ha,hf;g6=function(g7){var g8,g9,g_;g8=g4(g7);if(g8.$==0){g_=g8.$0;g9={$:1,$0:g_};}else{g9={$:0};}return g9;};g$=y.Choose(g6,g5);ha=function(hb){var hc,hd,he;hc=g4(hb);if(hc.$==1){he=hc.$0;hd={$:1,$0:he};}else{hd={$:0};}return hd;};hf=y.Choose(ha,g5);return[g$,hf];}},Observer:{New:function(hg,hh,hi){return $.New(E,{onNext:hg,onError:hh,onCompleted:hi});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(hj){return this.onError.call(null,hj);},OnNext:function(hk){return this.onNext.call(null,hk);}}),Of:function(hl){return $.New(E,{onNext:function(hm){return hl(hm);},onError:function(hn){return r.Raise(hn);},onCompleted:function(){return null;}});}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.WebSharper.Seq);c=$.Safe($$.WebSharper.Option);d=$.Safe($$.WebSharper.Control);e=$.Safe(d.Disposable);f=$.Safe($$.WebSharper.Arrays);g=$.Safe(d.FSharpEvent);h=$.Safe($$.WebSharper.Util);i=$.Safe(d.Event);j=$.Safe(i.Event);k=$.Safe($$.WebSharper.Collections);l=$.Safe(k.ResizeArray);m=$.Safe(l.ResizeArrayProxy);n=$.Safe(d.EventModule);o=$.Safe(d.HotStream);p=$.Safe(o.HotStream);q=$.Safe($$.WebSharper.Concurrency);r=$.Safe($$.WebSharper.Operators);s=$.Safe($$.Error);t=$.Safe($$.setTimeout);u=$.Safe($$.clearTimeout);v=$.Safe(k.LinkedList);w=$.Safe(v.T);x=$.Safe(d.MailboxProcessor);y=$.Safe(d.Observable);z=$.Safe(d.Observer);A=$.Safe($$.WebSharper.Ref);B=$.Safe(y.Observable);C=$.Safe($$.WebSharper.List);D=$.Safe(C.T);return E=$.Safe(z.Observer);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;$.Define($$,{WebSharper:{Collections:{BalancedTree:{Add:function(C,D){return b.Put(function(){return function(F){return F;};},C,D);},Branch:function(G,H,I){return{Node:G,Left:H,Right:I,Height:1+c.Max(H==null?0:H.Height,I==null?0:I.Height),Count:1+(H==null?0:H.Count)+(I==null?0:I.Count)};},Build:function(J,K,L){var M,N,O,P,Q;M=L-K+1;if(M<=0){N=null;}else{O=(K+L)/2>>0;P=b.Build(J,K,O-1);Q=b.Build(J,O+1,L);N=b.Branch(d.get(J,O),P,Q);}return N;},Contains:function(R,S){return!((b.Lookup(R,S))[0]==null);},Enumerate:function(T,U){var V;V=function(W){var X,Y,Z,_0,_1,_2,_3;X=W[0];Y=W[1];if(X==null){if(Y.$==1){_1=Y.$0[0];_2=Y.$1;_3=Y.$0[1];_0={$:1,$0:[_1,[_3,_2]]};}else{_0={$:0};}Z=_0;}else{Z=T?V([X.Right,$.New(g,{$:1,$0:[X.Node,X.Left],$1:Y})]):V([X.Left,$.New(g,{$:1,$0:[X.Node,X.Right],$1:Y})]);}return Z;};return e.unfold(V,[U,$.New(g,{$:0})]);},Lookup:function(_4,_5){var _6,_7,_8,_9,_,ba;_6=[];_7=_5;_8=true;while(_8){if(_7==null){_9=_8=false;}else{_=c.Compare(_4,_7.Node);if(_===0){ba=_8=false;}else{if(_===1){_6.unshift([true,_7.Node,_7.Left]);ba=_7=_7.Right;}else{_6.unshift([false,_7.Node,_7.Right]);ba=_7=_7.Left;}}_9=ba;}}return[_7,_6];},OfSeq:function(ba){var bb;bb=d.sort(e.toArray(e.distinct(ba)));return b.Build(bb,0,bb.length-1);},Put:function(bc,bd,be){var bf,bg,bh;bf=b.Lookup(bd,be);bg=bf[0];bh=bf[1];return bg==null?b.Rebuild(bh,b.Branch(bd,null,null)):b.Rebuild(bh,b.Branch((bc(bg.Node))(bd),bg.Left,bg.Right));},Rebuild:function(bi,bj){var bk,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz;bk=function(bl){return bl==null?0:bl.Height;};bm=bj;for(bn=0;bn<=d.length(bi)-1;bn++){bo=d.get(bi,bn);if(bo[0]){bq=bo[1];br=bo[2];if(bk(bm)>bk(br)+1){if(bk(bm.Left)===bk(bm.Right)+1){bu=bm.Left;bt=b.Branch(bu.Node,b.Branch(bq,br,bu.Left),b.Branch(bm.Node,bu.Right,bm.Right));}else{bt=b.Branch(bm.Node,b.Branch(bq,br,bm.Left),bm.Right);}bs=bt;}else{bs=b.Branch(bq,br,bm);}bp=bs;}else{bv=bo[1];bw=bo[2];if(bk(bm)>bk(bw)+1){if(bk(bm.Right)===bk(bm.Left)+1){bz=bm.Right;by=b.Branch(bz.Node,b.Branch(bm.Node,bm.Left,bz.Left),b.Branch(bv,bz.Right,bw));}else{by=b.Branch(bm.Node,bm.Left,b.Branch(bv,bm.Right,bw));}bx=by;}else{bx=b.Branch(bv,bm,bw);}bp=bx;}bm=bp;}return bm;},Remove:function(bA,bB){var bC,bD,bE,bF,bG,bH,bI,bJ,bK;bC=b.Lookup(bA,bB);bD=bC[0];bE=bC[1];if(bD==null){bF=bB;}else{if(bD.Right==null){bG=b.Rebuild(bE,bD.Left);}else{if(bD.Left==null){bH=b.Rebuild(bE,bD.Right);}else{bI=e.append(b.Enumerate(false,bD.Left),b.Enumerate(false,bD.Right));bJ=e.toArray(bI);bK=b.Build(bJ,0,bJ.length-1);bH=b.Rebuild(bE,bK);}bG=bH;}bF=bG;}return bF;},TryFind:function(bL,bM){var bN;bN=(b.Lookup(bL,bM))[0];return bN==null?{$:0}:{$:1,$0:bN.Node};}},Dictionary:$.Class({Add:function(bO,bP){var bQ,bR;bQ=this.hash.call(null,bO);if(this.data.hasOwnProperty(bQ)){bR=c.FailWith("An item with the same key has already been added.");}else{this.data[bQ]={K:bO,V:bP};bR=void(this.count=this.count+1);}return bR;},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bS){return this.data.hasOwnProperty(this.hash.call(null,bS));},GetEnumerator:function(){var bT;bT=i.GetFieldValues(this.data);return j.Get(bT);},Remove:function(bU){var bV,bW;bV=this.hash.call(null,bU);if(this.data.hasOwnProperty(bV)){i.Delete(this.data,bV);this.count=this.count-1;bW=true;}else{bW=false;}return bW;},get_Item:function(bX){var bY,bZ,b0;bY=this.hash.call(null,bX);if(this.data.hasOwnProperty(bY)){b0=this.data[bY];bZ=b0.V;}else{bZ=k.notPresent();}return bZ;},set_Item:function(b1,b2){var b3;b3=this.hash.call(null,b1);!this.data.hasOwnProperty(b3)?void(this.count=this.count+1):null;this.data[b3]={K:b1,V:b2};return;}},{New:function(b4){return $.New(this,l.New4(b4,function(b5){return function(b6){return m.Equals(b5,b6);};},function(b7){return m.Hash(b7);}));},New1:function(b8,b9){return $.New(this,l.New4(b8,function(b_){return function(b$){return b9.Equals(b_,b$);};},function(ca){return b9.GetHashCode(ca);}));},New11:function(cb,cc){return $.New(this,l.New3(cc));},New12:function(){return $.New(this,l.New4([],function(cd){return function(ce){return m.Equals(cd,ce);};},function(cf){return m.Hash(cf);}));},New2:function(){return $.New(this,l.New12());},New3:function(ch){return $.New(this,l.New4([],function(ci){return function(cj){return ch.Equals(ci,cj);};},function(ck){return ch.GetHashCode(ck);}));},New4:function(cl,cm,cn){var co,cp,cq,cr,cs;co=$.New(this,{});co.hash=cn;co.count=0;co.data={};cp=j.Get(cl);try{while(cp.MoveNext()){cr=cp.get_Current();cs=cr.K;co.data[co.hash.call(null,cs)]=cr.V;}}finally{cp.Dispose!=undefined?cp.Dispose():null;}return co;}}),DictionaryUtil:{notPresent:function(){return c.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(ct,cu){var cv,cw;cv=this.tree;cw=$.New(o,{Key:ct,Value:cu});return n.New(b.Add(cw,cv));},CompareTo:function(cx){return e.compareWith(function(cy){return function(cz){return c.Compare(cy,cz);};},this,cx);},ContainsKey:function(cA){var cB,cC;cB=this.tree;cC=$.New(o,{Key:cA,Value:undefined});return b.Contains(cC,cB);},Equals:function(cD){return this.get_Count()===cD.get_Count()?e.forall2(function(cE){return function(cF){return m.Equals(cE,cF);};},this,cD):false;},GetEnumerator:function(){var cG,cI,cJ;cG=function(cH){return{K:cH.Key,V:cH.Value};};cI=b.Enumerate(false,this.tree);cJ=e.map(cG,cI);return j.Get(cJ);},GetHashCode:function(){return m.Hash(e.toArray(this));},Remove:function(cK){var cL,cM;cL=this.tree;cM=$.New(o,{Key:cK,Value:undefined});return n.New(b.Remove(cM,cL));},TryFind:function(cN){var cO,cP,cQ,cS;cO=this.tree;cP=$.New(o,{Key:cN,Value:undefined});cQ=function(cR){return cR.Value;};cS=b.TryFind(cP,cO);return p.map(cQ,cS);},get_Count:function(){var cT;cT=this.tree;return cT==null?0:cT.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cU){var cV,cW,cX;cV=this.TryFind(cU);if(cV.$==0){cW=c.FailWith("The given key was not present in the dictionary.");}else{cX=cV.$0;cW=cX;}return cW;},get_Tree:function(){return this.tree;}},{New:function(cY){var cZ;cZ=$.New(this,{});cZ.tree=cY;return cZ;},New1:function(c0){return $.New(this,n.New(q.fromSeq(c0)));}}),FSharpSet:$.Class({Add:function(c1){return r.New1(b.Add(c1,this.tree));},CompareTo:function(c2){return e.compareWith(function(c3){return function(c4){return c.Compare(c3,c4);};},this,c2);},Contains:function(c5){return b.Contains(c5,this.tree);},Equals:function(c6){return this.get_Count()===c6.get_Count()?e.forall2(function(c7){return function(c8){return m.Equals(c7,c8);};},this,c6):false;},GetEnumerator:function(){return j.Get(b.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+m.Hash(e.toArray(this));},IsProperSubsetOf:function(c9){return this.IsSubsetOf(c9)?this.get_Count()<c9.get_Count():false;},IsProperSupersetOf:function(c_){return this.IsSupersetOf(c_)?this.get_Count()>c_.get_Count():false;},IsSubsetOf:function(c$){return e.forall(function(da){return c$.Contains(da);},this);},IsSupersetOf:function(db){var dd=this;return e.forall(function(dc){return dd.Contains(dc);},db);},Remove:function(de){return r.New1(b.Remove(de,this.tree));},add:function(df){return r.New1(b.OfSeq(e.append(this,df)));},get_Count:function(){var dg;dg=this.tree;return dg==null?0:dg.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return e.head(b.Enumerate(true,this.tree));},get_MinimumElement:function(){return e.head(b.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(dh){return s.Filter(function(di){return!dh.Contains(di);},this);}},{New:function(dj){return $.New(this,r.New1(t.ofSeq(dj)));},New1:function(dk){var dl;dl=$.New(this,{});dl.tree=dk;return dl;}}),HashSetProxy:$.Class({Add:function(dm){return this.add(dm);},Clear:function(){this.data=u.prototype.constructor.apply(u,[]);this.count=0;return;},Contains:function(dn){var _do;_do=this.data[this.hash.call(null,dn)];return _do==null?false:this.arrContains(dn,_do);},CopyTo:function(dp){var dq,dr,ds;dq=0;dr=v.concat(this.data);for(ds=0;ds<=dr.length-1;ds++){d.set(dp,ds,dr[ds]);}return;},ExceptWith:function(dt){var du,dv,dw,dx;du=j.Get(dt);try{while(du.MoveNext()){dw=du.get_Current();dx=this.Remove(dw);}}finally{du.Dispose!=undefined?du.Dispose():null;}return dv;},GetEnumerator:function(){return j.Get(v.concat(this.data));},IntersectWith:function(dy){var dz,dA,dB,dC,dD,dE,dF;dz=w.New3(dy,this.equals,this.hash);dA=v.concat(this.data);for(dB=0;dB<=dA.length-1;dB++){dC=dA[dB];dD=dz.Contains(dC);if(!dD){dF=this.Remove(dC);dE=void dF;}else{dE=null;}}return;},IsProperSubsetOf:function(dG){var dH;dH=d.ofSeq(dG);return this.count<d.length(dH)?this.IsSubsetOf(dH):false;},IsProperSupersetOf:function(dI){var dJ;dJ=d.ofSeq(dI);return this.count>d.length(dJ)?this.IsSupersetOf(dJ):false;},IsSubsetOf:function(dK){var dL,dM,dO;dL=w.New3(dK,this.equals,this.hash);dM=function(dN){return dL.Contains(dN);};dO=v.concat(this.data);return e.forall(dM,dO);},IsSupersetOf:function(dP){var dQ,dS=this;dQ=function(dR){return dS.Contains(dR);};return e.forall(dQ,dP);},Overlaps:function(dT){var dU,dW=this;dU=function(dV){return dW.Contains(dV);};return e.exists(dU,dT);},Remove:function(dX){var dY,dZ,d0,d1;dY=this.hash.call(null,dX);dZ=this.data[dY];if(dZ==null){d0=false;}else{if(this.arrRemove(dX,dZ)){this.count=this.count-1;d1=true;}else{d1=false;}d0=d1;}return d0;},RemoveWhere:function(d2){var d3,d4,d5,d6,d7;d3=v.concat(this.data);for(d4=0;d4<=d3.length-1;d4++){d5=d3[d4];if(d2(d5)){d7=this.Remove(d5);d6=void d7;}else{d6=null;}}return;},SetEquals:function(d8){var d9;d9=w.New3(d8,this.equals,this.hash);return this.get_Count()===d9.get_Count()?this.IsSupersetOf(d9):false;},SymmetricExceptWith:function(d_){var d$,ea,eb,ec,ed,ee;d$=j.Get(d_);try{while(d$.MoveNext()){eb=d$.get_Current();if(this.Contains(eb)){ed=this.Remove(eb);ec=void ed;}else{ee=this.Add(eb);ec=void ee;}}}finally{d$.Dispose!=undefined?d$.Dispose():null;}return ea;},UnionWith:function(ef){var eg,eh,ei,ej;eg=j.Get(ef);try{while(eg.MoveNext()){ei=eg.get_Current();ej=this.Add(ei);}}finally{eg.Dispose!=undefined?eg.Dispose():null;}return eh;},add:function(ek){var el,em,en,eo,ep;el=this.hash.call(null,ek);em=this.data[el];if(em==null){this.data[el]=[ek];this.count=this.count+1;en=true;}else{if(this.arrContains(ek,em)){eo=false;}else{ep=em.push(ek);this.count=this.count+1;eo=true;}en=eo;}return en;},arrContains:function(eq,er){var es,et,eu;es=true;et=0;eu=er.length;while(es?et<eu:false){(this.equals.call(null,er[et]))(eq)?es=false:et=et+1;}return!es;},arrRemove:function(ev,ew){var ex,ey,ez,eA,eB,eC,eD;ex=true;ey=0;ez=ew.length;while(ex?ey<ez:false){if((this.equals.call(null,ew[ey]))(ev)){eB=ey;eC=[];eD=ew.splice.apply(ew,[eB,1].concat(eC));eA=ex=false;}else{eA=ey=ey+1;}}return!ex;},get_Count:function(){return this.count;}},{New:function(eE){return $.New(this,w.New3(eE,function(eF){return function(eG){return m.Equals(eF,eG);};},function(eH){return m.Hash(eH);}));},New1:function(eI){return $.New(this,w.New3(e.empty(),function(eJ){return function(eK){return eI.Equals(eJ,eK);};},function(eL){return eI.GetHashCode(eL);}));},New11:function(){return $.New(this,w.New3(e.empty(),function(eM){return function(eN){return m.Equals(eM,eN);};},function(eO){return m.Hash(eO);}));},New2:function(eP,eQ){return $.New(this,w.New3(eP,function(eR){return function(eS){return eQ.Equals(eR,eS);};},function(eT){return eQ.GetHashCode(eT);}));},New3:function(eU,eV,eW){var eX,eY,eZ,e0,e1;eX=$.New(this,{});eX.equals=eV;eX.hash=eW;eX.data=u.prototype.constructor.apply(u,[]);eX.count=0;eY=j.Get(eU);try{while(eY.MoveNext()){e0=eY.get_Current();e1=eX.add(e0);}}finally{eY.Dispose!=undefined?eY.Dispose():null;}return eX;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}},LinkedList:{E:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!m.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(e2){var e3;e3=$.New(this,{});e3.c=e2;return e3;}}),T:$.Class({AddAfter:function(e4,e5){var e6,e7,e8;e6=e4.n;e7={p:e4,n:e6,v:e5};m.Equals(e4.n,null)?void(this.p=e7):null;e4.n=e7;if(!m.Equals(e6,null)){e6.p=e7;e8=e7;}else{e8=null;}this.c=this.c+1;return e7;},AddBefore:function(e9,e_){var e$,fa,fb;e$=e9.p;fa={p:e$,n:e9,v:e_};m.Equals(e9.p,null)?void(this.n=fa):null;e9.p=fa;if(!m.Equals(e$,null)){e$.n=fa;fb=fa;}else{fb=null;}this.c=this.c+1;return fa;},AddFirst:function(fc){var fd,fe;if(this.c===0){fe={p:null,n:null,v:fc};this.n=fe;this.p=this.n;this.c=1;fd=fe;}else{fd=this.AddBefore(this.n,fc);}return fd;},AddLast:function(ff){var fg,fh;if(this.c===0){fh={p:null,n:null,v:ff};this.n=fh;this.p=this.n;this.c=1;fg=fh;}else{fg=this.AddAfter(this.p,ff);}return fg;},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(fi){var fj,fk;fj=false;fk=this.n;while(!m.Equals(fk,null)?!fj:false){fk.v==fi?fj=true:fk=fk.n;}return fj;},Find:function(fl){var fm,fn;fm=this.n;fn=true;while(fn?!m.Equals(fm,null):false){fm.v==fl?fn=false:fm=fm.n;}return fn?null:fm;},FindLast:function(fo){var fp,fq;fp=this.p;fq=true;while(fq?!m.Equals(fp,null):false){fp.v==fo?fq=false:fp=fp.p;}return fq?null:fp;},GetEnumerator:function(){return y.New(this);},Remove:function(fr){var fs,ft,fu,fv;fs=fr.p;ft=fr.n;if(m.Equals(fs,null)){fu=void(this.n=ft);}else{fs.n=ft;fu=ft;}if(m.Equals(ft,null)){fv=void(this.p=fs);}else{ft.p=fs;fv=fs;}this.c=this.c-1;return;},Remove1:function(fw){var fx,fy;fx=this.Find(fw);if(m.Equals(fx,null)){fy=false;}else{this.Remove(fx);fy=true;}return fy;},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,z.New1(e.empty()));},New1:function(fz){var fA,fB,fC,fD;fA=$.New(this,{});fA.c=0;fA.n=null;fA.p=null;fB=j.Get(fz);if(fB.MoveNext()){fA.n={p:null,n:null,v:fB.get_Current()};fA.p=fA.n;fC=void(fA.c=1);}else{fC=null;}while(fB.MoveNext()){fD={p:fA.p,n:null,v:fB.get_Current()};fA.p.n=fD;fA.p=fD;fA.c=fA.c+1;}return fA;}})},MapModule:{Exists:function(fE,fF){var fG;fG=function(fH){return(fE(fH.K))(fH.V);};return e.exists(fG,fF);},Filter:function(fI,fJ){var fK,fM,fN,fO,fP;fK=function(fL){return(fI(fL.Key))(fL.Value);};fM=b.Enumerate(false,fJ.get_Tree());fN=e.filter(fK,fM);fO=e.toArray(fN);fP=b.Build(fO,0,fO.length-1);return n.New(fP);},FindKey:function(fQ,fR){var fS;fS=function(fT){return(fQ(fT.K))(fT.V)?{$:1,$0:fT.K}:{$:0};};return e.pick(fS,fR);},Fold:function(fU,fV,fW){var fX,f0;fX=function(fY){return function(fZ){return((fU(fY))(fZ.Key))(fZ.Value);};};f0=b.Enumerate(false,fW.get_Tree());return e.fold(fX,fV,f0);},FoldBack:function(f1,f2,f3){var f4,f7;f4=function(f5){return function(f6){return((f1(f6.Key))(f6.Value))(f5);};};f7=b.Enumerate(true,f2.get_Tree());return e.fold(f4,f3,f7);},ForAll:function(f8,f9){var f_;f_=function(f$){return(f8(f$.K))(f$.V);};return e.forall(f_,f9);},Iterate:function(ga,gb){var gc;gc=function(gd){return(ga(gd.K))(gd.V);};return e.iter(gc,gb);},Map:function(ge,gf){var gg,gi,gj,gk;gg=function(gh){return $.New(o,{Key:gh.Key,Value:(ge(gh.Key))(gh.Value)});};gi=b.Enumerate(false,gf.get_Tree());gj=e.map(gg,gi);gk=b.OfSeq(gj);return n.New(gk);},OfArray:function(gl){var gm,gq,gr;gm=function(gn){var go,gp;go=gn[0];gp=gn[1];return $.New(o,{Key:go,Value:gp});};gq=e.map(gm,gl);gr=b.OfSeq(gq);return n.New(gr);},Partition:function(gs,gt){var gu,gw,gx,gy,gz;gu=function(gv){return(gs(gv.Key))(gv.Value);};gw=e.toArray(b.Enumerate(false,gt.get_Tree()));gx=d.partition(gu,gw);gy=gx[1];gz=gx[0];return[n.New(b.Build(gz,0,gz.length-1)),n.New(b.Build(gy,0,gy.length-1))];},Pick:function(gA,gB){var gC;gC=function(gD){return(gA(gD.K))(gD.V);};return e.pick(gC,gB);},ToSeq:function(gE){var gF,gH;gF=function(gG){return[gG.Key,gG.Value];};gH=b.Enumerate(false,gE.get_Tree());return e.map(gF,gH);},TryFind:function(gI,gJ){return gJ.TryFind(gI);},TryFindKey:function(gK,gL){var gM;gM=function(gN){return(gK(gN.K))(gN.V)?{$:1,$0:gN.K}:{$:0};};return e.tryPick(gM,gL);},TryPick:function(gO,gP){var gQ;gQ=function(gR){return(gO(gR.K))(gR.V);};return e.tryPick(gQ,gP);}},MapUtil:{fromSeq:function(gS){var gT;gT=e.toArray(e.delay(function(){return e.collect(function(gV){var gW,gX;gW=gV[1];gX=gV[0];return[$.New(o,{Key:gX,Value:gW})];},e.distinctBy(function(gY){return gY[0];},gS));}));d.sortInPlace(gT);return b.Build(gT,0,gT.length-1);}},Pair:$.Class({CompareTo:function(gZ){return c.Compare(this.Key,gZ.Key);},Equals:function(g0){return m.Equals(this.Key,g0.Key);},GetHashCode:function(){return m.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(g1){return this.arr.push(g1);},AddRange:function(g2){var g4=this;return e.iter(function(g3){return g4.Add(g3);},g2);},Clear:function(){var g5;g5=A.splice(this.arr,0,d.length(this.arr),[]);return;},CopyTo:function(g6){return this.CopyTo1(g6,0);},CopyTo1:function(g7,g8){return this.CopyTo2(0,g7,g8,this.get_Count());},CopyTo2:function(g9,g_,g$,ha){return d.blit(this.arr,g9,g_,g$,ha);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(hb,hc){return B.New11(d.sub(this.arr,hb,hc));},Insert:function(hd,he){var hf;hf=A.splice(this.arr,hd,0,[he]);return;},InsertRange:function(hg,hh){var hi;hi=A.splice(this.arr,hg,0,e.toArray(hh));return;},RemoveAt:function(hj){var hk;hk=A.splice(this.arr,hj,1,[]);return;},RemoveRange:function(hl,hm){var hn;hn=A.splice(this.arr,hl,hm,[]);return;},Reverse:function(){return this.arr.reverse();},Reverse1:function(ho,hp){return d.reverse(this.arr,ho,hp);},ToArray:function(){return this.arr.slice();},get_Count:function(){return d.length(this.arr);},get_Item:function(hq){return d.get(this.arr,hq);},set_Item:function(hr,hs){return d.set(this.arr,hr,hs);}},{New:function(ht){return $.New(this,B.New11(e.toArray(ht)));},New1:function(){return $.New(this,B.New11([]));},New11:function(hv){var hw;hw=$.New(this,{});hw.arr=hv;return hw;},New2:function(){return $.New(this,B.New11([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(hx,hy){var hz;hz=e.toArray(e.filter(hx,hy));return r.New1(b.Build(hz,0,hz.length-1));},FoldBack:function(hA,hB,hC){return e.fold(function(hD){return function(hE){return(hA(hE))(hD);};},hC,b.Enumerate(true,hB.get_Tree()));},Partition:function(hF,hG){var hH,hI,hJ;hH=d.partition(hF,e.toArray(hG));hI=hH[1];hJ=hH[0];return[r.New1(b.OfSeq(hJ)),r.New1(b.OfSeq(hI))];}},SetUtil:{ofSeq:function(hK){var hL;hL=e.toArray(hK);d.sortInPlace(hL);return b.Build(hL,0,hL.length-1);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Collections);b=$.Safe(a.BalancedTree);c=$.Safe($$.WebSharper.Operators);d=$.Safe($$.WebSharper.Arrays);e=$.Safe($$.WebSharper.Seq);f=$.Safe($$.WebSharper.List);g=$.Safe(f.T);h=$.Safe($$.WebSharper.JavaScript);i=$.Safe(h.JSModule);j=$.Safe($$.WebSharper.Enumerator);k=$.Safe(a.DictionaryUtil);l=$.Safe(a.Dictionary);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(a.FSharpMap);o=$.Safe(a.Pair);p=$.Safe($$.WebSharper.Option);q=$.Safe(a.MapUtil);r=$.Safe(a.FSharpSet);s=$.Safe(a.SetModule);t=$.Safe(a.SetUtil);u=$.Safe($$.Array);v=$.Safe(a.HashSetUtil);w=$.Safe(a.HashSetProxy);x=$.Safe(a.LinkedList);y=$.Safe(x.E);z=$.Safe(x.T);A=$.Safe(a.ResizeArray);return B=$.Safe(A.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;$.Define($$,{Site:{ChartControl:{Main:function(x){var y,z,A,B,C,D;y={};y.text="Monthly Average Temperature";y.x=-20;z={};z.text="Source: WorldClimate.com";z.x=-20;A={};A.categories=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];B={};B.title={text:"Temperature (C)"};B.plotLines=[{value:0,width:1,color:"#808080"}];C={};C.valueSuffix="C";D={};D.layout="vertical";D.align="right";D.verticalAlign="middle";D.borderWidth=0;a(x).highcharts({title:y,subtitle:z,xAxis:A,yAxis:B,tooltip:C,legend:D,series:[{name:"Tokyo",data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]},{name:"New York",data:[-0.2,0.8,5.7,11.3,17,22,24.8,24.1,20.1,14.1,8.6,2.5]},{name:"Berlin",data:[-0.9,0.6,3.5,8.4,13.5,17,18.6,17.9,14.3,9,3.9,1]},{name:"London",data:[3.9,4.2,5.7,8.5,11.9,15.2,17,16.6,14.2,10.3,6.6,4.8]}]});},Sample:$.Field(function(){return c.Build().Id("Highcharts").FileName("Highchart.fs").Keywords(d.ofArray(["highcharts","charts"])).Render(function(E){return e.Main(E);}).Create();})},Client:{All:$.Field(function(){var F;F=function(G){return f.Singleton(G);};return f.Create(d.ofArray([F(g.Sample()),F(e.Sample()),F(h.Sample())]));}),Main:$.Field(function(){var H;H=$.New(i,{$:0});h.Main(l.Tags().NewTag("div",H).Dom);return m.All().Show();})},MapControl:{Main:function(I){var J,K,L,M,N,P;J={};J.spacingBottom=20;K={};K.text="Europe time zones";L={};L.enabled=true;M={};N={};N.enabled=true;N.color="white";N.formatter=function(){var O;O=this.point.properties;return O?5>O.labelrank?O["iso-a2"]:null:null;};N.format=null;N.style={fontWeight:"bold"};P={};P.headerFormat="";P.pointFormat="{point.name}: <b>{series.name}</b>";M.map={allAreas:false,joinBy:["iso-a2","code"],dataLabels:N,tooltip:P};a(I).highcharts("Map",{chart:J,title:K,legend:L,plotOptions:M,series:[{name:"UTC",mapData:g.map(),data:n.map(function(Q){return{code:Q};},["IE","IS","GB","PT"])},{name:"UTC +1",mapData:g.map(),data:n.map(function(R){return{code:R};},["NO","SE","DK","DE","NL","BE","LU","ES","FR","PL","CZ","AT","CH","LI","SK","HU","SI","IT","SM","HR","BA","YF","ME","AL","MK"])},{name:"UTC +2",mapData:g.map(),data:n.map(function(S){return{code:S};},["FI","EE","LV","LT","BY","UA","MD","RO","BG","GR","TR","CY"])},{name:"UTC +3",mapData:g.map(),data:n.map(function(T){return{code:T};},["RU"])}]});},Sample:$.Field(function(){return c.Build().Id("Highmaps").FileName("Highmap.fs").Keywords(d.ofArray(["highmaps","charts"])).Render(function(U){return g.Main(U);}).Create();}),map:$.Field(function(){return $$.Highcharts.maps["custom/europe"];})},Samples:{Build:function(){var V;V={$:0};return $.New(o,{BFileName:{$:0},BId:V,BKeywords:$.New(i,{$:0}),BRender:{$:0},BTitle:{$:0}});},Builder:$.Class({Create:function(){var W,X;W=c.req("Id",c.op_PlusPlus(this.BId,this.BTitle));X=p.DefaultArg(c.op_PlusPlus(this.BTitle,this.BId),"Sample");return $.New(q,{FileName:c.req("FileName",this.BFileName),Id:W,Keywords:this.BKeywords,Render:c.req("Render",this.BRender),Title:X});},FileName:function(Y){this.BFileName={$:1,$0:Y};return this;},Id:function(Z){this.BId={$:1,$0:Z};return this;},Keywords:function(_0){this.BKeywords=_0;return this;},Render:function(_1){this.BRender={$:1,$0:_1};return this;},Title:function(_2){this.BTitle={$:1,$0:_2};return this;}}),Clear:function(_3){while(_3.hasChildNodes()){_3.removeChild(_3.firstChild);}return;},Sample:$.Class({Show:function(){var _4,_5,_6,_7,_8,_9,bb=this,bd;_4=r.getElementById("sample-main");_5=r.getElementById("sample-side");c.Clear(_4);c.Clear(_5);this.Render.call(null,_4);_6="http://github.com/intellifactory/websharper.highcharts/blob/master/Site/"+this.FileName;_8=$.New(i,{$:0});_9=l.Tags().NewTag("div",_8);s.OnAfterRender(function(_){var ba,bc;ba=r.getElementById(bb.Id);if(t.Equals(ba,null)){return null;}else{bc=ba.cloneNode(true);bc.attributes.removeNamedItem("id");return _.AppendN(bc);}},_9);bd=d.ofArray([u.Attr().NewAttr("class","btn btn-primary btn-lg"),u.Attr().NewAttr("href",_6)]);_7=d.ofArray([_9,s.add(l.Tags().NewTag("a",bd),d.ofArray([l.Tags().text("Source")]))]);return l.Tags().NewTag("div",_7).AppendTo("sample-side");}}),Set:$.Class({Show:function(){var bf=this;return a(function(){var be,bg,bj,bk;be=bf.$0;bg=function(bh,bi){a("#sample-navs ul").children("li").removeClass("active");a(bi).addClass("active");return bh.Show();};bk=d.ofArray([u.Attr().NewAttr("class","nav nav-pills")]);bj=s.add(l.Tags().NewTag("ul",bk),d.mapi(function(bl){return function(bm){var bn,bo,bp,bq,br,bt;bo=d.ofArray([u.Attr().NewAttr("href","#")]);bp=bm.Title;bn=d.ofArray([s.add(l.Tags().NewTag("a",bo),d.ofArray([l.Tags().text(bp)]))]);bq=l.Tags().NewTag("li",bn);s.OnAfterRender(function(bs){return bl===0?bg(bm,bs.Dom):null;},bq);br=bq;bt=function(bu){return function(){return bg(bm,bu.Dom);};};v.Events().OnClick(bt,br);return br;};},be));return bj.AppendTo("sample-navs");});}},{Create:function(bw){return $.New(f,{$:0,$0:w.toList(w.delay(function(){return w.collect(function(by){return by.$0;},bw);}))});},Singleton:function(bz){return $.New(f,{$:0,$0:d.ofArray([bz])});}}),op_PlusPlus:function(bA,bB){return bA.$==0?bB:bA;},req:function(bC,bD){return bD.$==1?bD.$0:p.FailWith("Required property not set: "+bC);}},StockControl:{Main:function(bE){a.getJSON("http://www.highcharts.com/samples/data/jsonp.php?filename=aapl-c.json&callback=?",function(bF){var bG,bH;bG={};bG.text="AAPL stock price";bH={};bH.selected=1;bH.inputEnabled=a(bE).width()>480;a(bE).highcharts("StockChart",{title:bG,rangeSelector:bH,series:[{name:"AAPL",data:bF}]});});},Sample:$.Field(function(){return c.Build().Id("Highstock").FileName("Highstock.fs").Keywords(d.ofArray(["highstock","charts"])).Render(function(bI){return h.Main(bI);}).Create();})}}});$.OnInit(function(){a=$.Safe($$.jQuery);b=$.Safe($$.Site);c=$.Safe(b.Samples);d=$.Safe($$.WebSharper.List);e=$.Safe(b.ChartControl);f=$.Safe(c.Set);g=$.Safe(b.MapControl);h=$.Safe(b.StockControl);i=$.Safe(d.T);j=$.Safe($$.WebSharper.Html);k=$.Safe(j.Client);l=$.Safe(k.Tags);m=$.Safe(b.Client);n=$.Safe($$.WebSharper.Arrays);o=$.Safe(c.Builder);p=$.Safe($$.WebSharper.Operators);q=$.Safe(c.Sample);r=$.Safe($$.document);s=$.Safe(k.Operators);t=$.Safe($$.WebSharper.Unchecked);u=$.Safe(k.Attr);v=$.Safe(k.EventsPervasives);return w=$.Safe($$.WebSharper.Seq);});$.OnLoad(function(){h.Sample();g.map();g.Sample();m.Main();m.All();e.Sample();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
